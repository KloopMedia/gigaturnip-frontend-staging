{"version":3,"sources":["services/firebase/Firebase.js","context/authentication/AuthProvider.tsx","context/authentication/hooks/useAuth.tsx","utils/constants/Paths.js","pages/login/RequireAuth.tsx","services/api/Urls.js","services/api/useAxios.tsx","components/card/Card.tsx","components/card/ExpandableCard.tsx","components/list/ListContent.tsx","components/list/ListHeader.tsx","components/list/List.tsx","pages/campaigns/Campaigns.tsx","pages/login/Login.tsx","components/layout/appbar/Appbar.tsx","components/layout/Layout.tsx","pages/chains/Chains.tsx","pages/graph/nodes/BaseNode.tsx","pages/graph/nodes/LogicNode.tsx","pages/graph/nodes/StageNode.tsx","utils/hooks/UseHelpers.ts","pages/graph/sidebar/Sidebar.tsx","pages/graph/Graph.tsx","pages/form-builders/stage-builder/controls/Controls.tsx","components/form/custom-widgets/AudioWidget.tsx","components/form/custom-widgets/AutoCompleteWidget.tsx","components/form/custom-widgets/CustomLinkWidget.tsx","components/form/custom-widgets/FixedRadioWidget.tsx","components/form/custom-widgets/Counter.tsx","components/form/custom-widgets/SimpleAutoComplete.tsx","components/form/custom-widgets/Webhook_stub.tsx","components/text-editor/TextViewer.tsx","components/form/custom-widgets/RichTextStub.tsx","components/form/custom-widgets/ParagraphWidget.tsx","components/form/custom-widgets/ImageStub.tsx","components/form/Form.tsx","components/form-builder/custom-fields/AudioType.tsx","components/form-builder/custom-fields/AutoCompleteType.tsx","components/form-builder/custom-fields/CustomFileType.tsx","components/form-builder/custom-fields/CustomLinkType.tsx","components/form-builder/custom-fields/CounterType.tsx","components/form-builder/custom-fields/CustomLongAnswerType.tsx","components/form-builder/custom-fields/CardType.tsx","components/form-builder/custom-fields/ReaderType.tsx","components/text-editor/TextEditor.tsx","components/form-builder/custom-fields/RichTextType.tsx","components/form-builder/custom-fields/CardEnumOptions.tsx","components/form-builder/custom-fields/CustomShortAnswerType.tsx","components/form-builder/custom-fields/SimpleAutoComplete.tsx","components/form-builder/custom-fields/WebhookTrigger.tsx","components/form-builder/custom-fields/ParagraphType.tsx","components/form-builder/custom-fields/ImageType.tsx","components/form-builder/custom-fields/index.tsx","components/form-builder/FormBuilder.tsx","components/layout/common-layouts/BuilderLayout.tsx","pages/form-builders/stage-builder/builder/Builder.tsx","pages/form-builders/stage-builder/preview/Preview.tsx","pages/form-builders/stage-builder/schema-editor/SchemaEditor.tsx","pages/form-builders/stage-builder/plugins/Plugin.tsx","pages/form-builders/stage-builder/plugins/Plugins.tsx","pages/form-builders/stage-builder/text/Text.tsx","context/toast/ToastProvider.tsx","context/toast/hooks/useToast.tsx","components/prompt/Prompt.tsx","pages/form-builders/stage-builder/card-data/CardDataBuilder.tsx","pages/form-builders/stage-builder/StageBuilder.tsx","pages/form-builders/logic-builder/LogicBuilder.tsx","pages/chains/create-chain/CreateChain.tsx","pages/response-flattener/ResponseFlattener.tsx","components/card/ResponseFlattenerCard.tsx","pages/response-flattener/FlattenerList.tsx","pages/response-flattener/CreateFlattener.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","provider","GoogleAuthProvider","setCustomParameters","prompt","AuthContext","React","createContext","AuthProvider","children","useState","user","setUser","ready","setReady","useEffect","onIdTokenChanged","a","value","getToken","getIdToken","login","callback","signInWithPopup","then","result","console","log","logout","signOut","Provider","useAuth","useContext","ROUTES","title","path","RequireAuth","location","useLocation","to","state","from","CircularProgress","chainsUrl","taskstagesUrl","conditionalstagesUrl","responseflattener","useAxios","axios","defaultAxios","create","baseURL","interceptors","request","use","config","token","headers","error","Promise","reject","getCampaigns","get","res","data","results","getChains","campaignId","createChain","post","getStageNodes","chainId","getLogicNodes","getTaskStage","id","saveTaskStage","patch","getTaskStageOptions","options","getConditionalStage","saveConditionalStage","getResponseFlattenerList","campaign","getResponseFlattener","downloadFlattenedResponses","stage","flattener","responseType","response","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","saveResponseFlattener","put","createResponseFlattener","Card","props","onClick","name","description","CardContent","sx","pb","Typography","variant","component","gutterBottom","color","overflow","textOverflow","height","maxWidth","CardActions","Button","size","ExpandMore","styled","expand","other","IconButton","theme","transform","marginLeft","transition","transitions","duration","shortest","ExpandableCard","hideExpandButton","hideOpenButton","setExpand","actions","push","aria-expanded","aria-label","CardHeader","action","Stack","direction","spacing","subheader","titleTypographyProps","subheaderTypographyProps","Collapse","in","timeout","unmountOnExit","ListContent","view","onSelect","Grid","container","py","xs","md","columns","sm","map","item","index","ListHeader","label","hideCreateButton","hideViewButton","onViewChange","alignItems","flex","hidden","Link","boxShadow","Tooltip","List","defaultView","setView","localStorage","getItem","Box","setItem","Campaigns","navigate","useNavigate","setData","px","Login","pathname","replace","drawerWidth","openedMixin","width","easing","sharp","enteringScreen","overflowX","closedMixin","leavingScreen","breakpoints","down","DrawerHeader","display","justifyContent","padding","mixins","toolbar","StyledAppBar","MuiAppBar","shouldForwardProp","prop","open","zIndex","drawer","Drawer","MuiDrawer","flexShrink","whiteSpace","boxSizing","Appbar","useTheme","useParams","setOpen","DrawerItems","page","icon","CssBaseline","position","Toolbar","edge","marginRight","flexGrow","underline","noWrap","Divider","ListItem","ListItemIcon","ListItemText","primary","Layout","Chains","parsedId","parseInt","Node","type","fontSize","textAlign","palette","success","contrastText","backgroundColor","main","borderRadius","shape","BaseNode","Position","Top","style","left","Bottom","ConditionList","conditions","border","background","condition","field","CustomLogicNode","RankRow","ranks","flexDirection","bgcolor","p","Avatar","src","avatar","CustomStageNode","useHelpers","getNode","elements","filter","node","pop","getUrl","updateConnections","currentNodeId","method","connections","undefined","in_stages","out_stages","ids","connection","removeConnections","target","source","targetNode","sourceNode","createNode","x_pos","Math","round","x","y_pos","y","chain","catch","err","toString","getFormFields","schema","formData","retrievedSchema","retrieveSchema","pathSchema","toPathSchema","getFieldNames","getAllPaths","_obj","acc","paths","Object","keys","forEach","key","newPaths","__rjsf_additionalProperties","$name","formValue","_get","_isEmpty","parseId","Error","addConnections","removeElements","elementsToRemove","nodeIdsToRemove","n","element","includes","isEdge","delete","updateNode","cursor","margin","Sidebar","draggable","setDraggable","setLabel","onDragStart","event","nodeLabel","nodeType","JSON","stringify","dataTransfer","effectAllowed","onDragEnd","mt","TextField","onChange","e","align","Graph","reactFlowWrapper","useRef","reactFlowInstance","setReactFlowInstance","setElements","parsedCampaignId","parsedChainId","extraEdgeOptions","strokeWidth","arrowHeadType","all","stageNodes","logicNodes","allNodes","nodes","parseFloat","length","sourceId","els","addEdge","onConnect","params","newParams","onDrop","preventDefault","reactFlowBounds","current","getBoundingClientRect","transfer","getData","project","clientX","clientY","top","parsedData","parse","newNode","es","onElementDoubleClick","nodeTypes","LOGIC","LogicNode","STAGE","StageNode","ref","onElementsRemove","onNodeDoubleClick","onEdgeDoubleClick","onLoad","_reactFlowInstance","onDragOver","dropEffect","onNodeDragStop","preventScrolling","GoBackButton","dark","Controls","mode","allModes","onBack","fill","AudioWidget","required","disabled","readonly","onBlur","onFocus","TextWidget","placeholder","autofocus","rawErrors","inputType","Group","className","Label","Control","autoFocus","readOnly","list","examples","emptyValue","concat","default","example","CustomLinkWidget","RadioWidget","enumOptions","enumDisabled","_onChange","_onBlur","_onFocus","inline","Boolean","option","i","itemDisabled","Array","isArray","indexOf","checked","Check","Counter","_value","newValue","Date","toISOString","pr","fullWidth","SimpleAutoComplete","Autocomplete","reason","disablePortal","enum","renderInput","hiddenLabel","WebhookWidget","TextViewer","tinymceScriptSrc","process","init","plugins","menubar","image_advtab","importcss_append","RichTextWidget","ParagraphWidget","uiSchema","paragraph","ImageWidget","Form","hideButton","onSubmit","widgets","customfile","autocomplete","AutoCompleteWidget","customlink","LinkWidget","audio","simple_autocomplete","webhook","editor","image","fields","counter","CounterWidget","AudioType","displayName","matchIf","types","widget","possibleOptions","defaultDataSchema","defaultUiSchema","private","cardBody","parameters","ev","CustomAutoCompleteType","searchField","responseField","Fragment","paddingRight","paddingLeft","CustomFileType","file","multiple","CustomLinkType","CounterType","items","format","longAnswerInput","longAnswer","modalBody","minLength","maxLength","rows","pattern","CardType","card","subtype","ReaderType","reader","TextEditor","onEditorChange","toolbar_sticky","relative_urls","remove_script_host","image_caption","noneditable_noneditable_class","toolbar_mode","contextmenu","autosave_prefix","content_style","RichText","useStyles","createUseStyles","cardEnumOption","marginBottom","CardEnumOptions","initialValues","classes","possibleValues","newVal","slice","faTimes","faPlus","CardEnumOptionsWithNames","names","shortAnswerInput","shortAnswer","enumArray","newEnum","simpleAutoCompleteInput","simpleAutoComplete","WebhookTriggerType","ParagraphType","ImageType","enumNames","imageArray","images","text","newNames","AutoCompleteType","CustomLongAnswerType","ShortAnswerInput","SimpleAutoCompleteInput","FormBuilder","customFormInputs","Types","uischema","ui","mods","BuilderLayout","minWidth","Builder","onSchemaChange","onFormDataChange","optionsSchema","StageOptionsSchema","displayed_prev_stages","Preview","SchemaEditor","isEditable","onUiChange","onIsEditableChange","onSave","onUndo","prettySchema","prettyUi","parsedSchema","parsedUi","FormGroup","my","FormControlLabel","control","Switch","inputProps","labelPlacement","m","multiline","InputProps","marginTop","Plugin","setSchema","getOptions","POST","transformOptionsToForm","DEFAULT_FORM_TYPES","properties","help_text","req","template","Plugins","Text","ToastContext","Alert","forwardRef","elevation","ToastProvider","setTitle","setVariant","closeToast","openToast","String","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","useToast","useBlocker","blocker","when","NavigationContext","navigator","unblock","block","tx","autoUnblockingTx","retry","setTimeout","CardDataBuilder","onUseMainSchema","StageBuilder","stageId","setUiSchema","setFormData","viewMode","setViewMode","textEditorData","setTextEditorData","setEditable","tmpSchema","setTmpSchema","tmpUi","setTmpUi","originalSchema","setOriginalSchema","originalUi","setOriginalUi","showPrompt","setShowPrompt","cardSchema","setCardSchema","cardUi","setCardUi","message","useCallback","confirm","usePrompt","schemaJson","uiJson","VIEW_MODES","builder","preview","json_schema","ui_schema","rich_text","webhook_address","webhook_params","card_json_schema","card_ui_schema","getStage","compileData","parsed_webhook_params","responses","saveData","debouncedSave","debounce","handleSchemaChange","handleCardDataChange","handleFormDataChange","handleTextChange","d","handleIsEditableChange","handleTmpSchemaChange","handleTmpUiChange","handleTmpSave","handleTmpUndo","useMainSchemaInCardData","renderContent","LogicBuilder","isPingPong","setPingPong","connectedStages","setConnectedStages","setFields","pingpong","taskStage","currentStage","connectedIds","connId","connStages","allFields","stageObject","values","stageSchema","dependencies","dependenciesValues","formFields","depFields","dep","hasOwnProperty","oneOf","allOf","nested","fictionalSchema","flat","getDependentFields","Set","Checkbox","CreateChain","alert","ResponseFlattener","task_stage","rest","ResponseFlattenerCard","onDownloadClick","onSettingsClick","FlattenerList","handleDownload","handleOpen","CreateFlattener","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bc9e2332.chunk.js","sourcesContent":["import {initializeApp} from 'firebase/app';\nimport {getAuth, GoogleAuthProvider} from \"firebase/auth\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCXiwOUNsbzKH7sbSAZrqA9f7VOeCMdUOQ\",\n    authDomain: \"gigaturnip-b6b5b.firebaseapp.com\",\n    projectId: \"gigaturnip-b6b5b\",\n    storageBucket: \"gigaturnip-b6b5b.appspot.com\",\n    messagingSenderId: \"414429242328\",\n    appId: \"1:414429242328:web:a4685f5ac6895ea767c8ad\",\n    measurementId: \"G-Y8JTEJMTET\"\n};\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\n\nconst provider = new GoogleAuthProvider();\nprovider.setCustomParameters({\n    prompt: 'select_account'\n});\n\nexport {app, auth, provider};","import React, {useEffect, useState} from \"react\";\nimport {auth, provider} from \"../../services/firebase/Firebase\";\nimport {signInWithPopup, getIdToken, signOut, onIdTokenChanged} from \"firebase/auth\";\n\ninterface AuthContextType {\n    user: any;\n    ready: boolean;\n    getToken: () => Promise<string>;\n    login: (callback: VoidFunction) => void;\n    logout: (callback: VoidFunction) => void;\n}\n\nexport const AuthContext = React.createContext<AuthContextType>(null!);\n\nconst AuthProvider = ({children}: { children: React.ReactNode }) => {\n    const [user, setUser] = useState<any>(null);\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        onIdTokenChanged(auth, async (user) => {\n            if (user) {\n                setUser(user)\n            } else {\n                setUser(null)\n            }\n            setReady(true)\n        });\n    }, [])\n\n    const getToken = async () => {\n        return await getIdToken(user);\n    }\n\n    const login = (callback: VoidFunction) => {\n        return signInWithPopup(auth, provider).then((result) => {\n            const user = result.user;\n            console.log(user)\n            setUser(user);\n            callback();\n        });\n    };\n\n    const logout = (callback: VoidFunction) => {\n        return signOut(auth).then(() => {\n            setUser(null);\n            callback();\n        });\n    };\n\n    const value = {user, ready, getToken, login, logout};\n\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport default AuthProvider","import React from \"react\";\nimport {AuthContext} from \"../AuthProvider\";\n\nexport const useAuth = () => React.useContext(AuthContext);","\nexport const ROUTES = {\n    login: {title: \"Login\", path: \"/login\"},\n    campaigns: {title: \"Campaign\", path: \"/campaigns\"}\n}","import {useAuth} from \"../../context/authentication/hooks/useAuth\";\nimport {useLocation, Navigate} from \"react-router-dom\";\nimport {ROUTES} from \"../../utils/constants/Paths\";\nimport {CircularProgress} from \"@mui/material\";\n\nconst RequireAuth = ({ children }: { children: JSX.Element }) => {\n  const auth = useAuth();\n  const location = useLocation();\n\n  console.log(auth)\n\n  if (auth.ready && !auth.user) {\n    return <Navigate to={ROUTES.login.path} state={{ from: location }} />;\n  }\n\n  return auth.ready ? children : <CircularProgress/>;\n};\n\nexport default RequireAuth","// const baseUrl = \"https://journal-bb5e3.uc.r.appspot.com/\"\nconst baseUrl = \"https://front-test-dot-journal-bb5e3.uc.r.appspot.com\"\n// const baseUrl = \"http://127.0.0.1:8000/\"\nconst campaignsUrl = \"api/v1/campaigns/\"\nconst chainsUrl = \"api/v1/chains/\"\nconst taskstagesUrl = \"api/v1/taskstages/\"\nconst ranksUrl = \"api/v1/ranks/\"\nconst rankslimitsUrl = \"api/v1/ranklimits/\"\nconst webhookstagesUrl = \"api/v1/webhookstages/\"\nconst conditionalstagesUrl = \"api/v1/conditionalstages/\"\nconst manualstagesUrl = \"api/v1/manualstages/\" // TBD\nconst casesUrl = \"api/v1/cases/\"\nconst tasksUrl = \"api/v1/tasks/\"\nconst responseflattener = \"api/v1/responseflatteners/\"\n\nexport {\n    baseUrl,\n    campaignsUrl,\n    chainsUrl,\n    taskstagesUrl,\n    ranksUrl,\n    rankslimitsUrl,\n    webhookstagesUrl,\n    conditionalstagesUrl,\n    casesUrl,\n    tasksUrl,\n    manualstagesUrl,\n    responseflattener\n}","import {\n    baseUrl,\n    campaignsUrl,\n    chainsUrl,\n    conditionalstagesUrl,\n    responseflattener,\n    taskstagesUrl,\n    tasksUrl\n} from \"./Urls\";\nimport defaultAxios from \"axios\";\nimport {useAuth} from \"../../context/authentication/hooks/useAuth\";\n\n\nconst useAxios = () => {\n    const {getToken} = useAuth();\n    const axios = defaultAxios.create({\n        baseURL: baseUrl\n    });\n\n    axios.interceptors.request.use(\n        config => {\n            return getToken().then(token => {\n                if (token && config && config.headers) {\n                    config.headers[\"Authorization\"] = 'JWT ' + token;\n                }\n                return config;\n            });\n        },\n        error => Promise.reject(error)\n    );\n\n\n    const getCampaigns = () => {\n        return axios.get(`${campaignsUrl}?limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results);\n    }\n\n    const getChains = (campaignId: number) => {\n        return axios.get(`${chainsUrl}?campaign=${campaignId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results);\n    }\n\n    const createChain = (data: { name: string, campaign: number, description?: string }) => {\n        return axios.post(`${chainsUrl}`, data);\n    }\n\n    const getStageNodes = (campaignId: number, chainId: number) => {\n        return axios.get(`${taskstagesUrl}?ranks_avatars=true&chain__campaign=${campaignId}&chain=${chainId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results);\n    };\n\n    const getLogicNodes = (campaignId: number, chainId: number) => {\n        return axios.get(`${conditionalstagesUrl}?chain__campaign=${campaignId}&chain=${chainId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results);\n    };\n\n    const getTaskStage = (id: number) => {\n        return axios.get(`${taskstagesUrl + id}/`)\n            .then(res => res.data);\n    }\n\n    const saveTaskStage = (id: number, data: any) => {\n        return axios.patch(`${taskstagesUrl + id}/`, data);\n    }\n\n    const getTaskStageOptions = () => {\n        return axios.options(`${taskstagesUrl}`)\n            .then(res => res.data);\n    }\n\n    const getConditionalStage = (id: number) => {\n        return axios.get(`${conditionalstagesUrl + id}/`)\n            .then(res => res.data);\n    }\n\n    const saveConditionalStage = (id: number, data: any) => {\n        return axios.patch(`${conditionalstagesUrl + id}/`, data);\n    }\n\n    const getResponseFlattenerList = (campaign: number) => {\n        return axios.get(`${responseflattener}?task_stage__chain__campaign=${campaign}`)\n            .then(res => res.data)\n            .then(res => res.results);\n    }\n\n    const getResponseFlattener = (id: number) => {\n        return axios.get(`${responseflattener + id}/`)\n            .then(res => res.data)\n    }\n    const saveResponseFlattener = (id: number, data: any) => {\n        return axios.put(`${responseflattener + id}/`, data);\n    }\n\n    const createResponseFlattener = (data: any) => {\n        return axios.post(`${responseflattener}`, data)\n    }\n\n    const downloadFlattenedResponses = (stage: number, flattener: number) => {\n        return axios.get(`${responseflattener + flattener}/csv/`, {\n            responseType: \"blob\"\n        }).then((response) => {\n            const url = window.URL.createObjectURL(new Blob([response.data]));\n            const link = document.createElement('a');\n            link.href = url;\n            link.setAttribute('download', 'results.csv'); //or any other extension\n            document.body.appendChild(link);\n            link.click();\n        });\n    }\n\n    return {\n        axios,\n        getCampaigns,\n        getChains,\n        createChain,\n        getStageNodes,\n        getLogicNodes,\n        getTaskStage,\n        saveTaskStage,\n        getTaskStageOptions,\n        getConditionalStage,\n        saveConditionalStage,\n        getResponseFlattenerList,\n        getResponseFlattener,\n        downloadFlattenedResponses,\n        saveResponseFlattener,\n        createResponseFlattener\n    }\n}\n\nexport default useAxios;","import React from 'react';\nimport {Button, CardActions, CardContent, Typography} from '@mui/material'\nimport MuiCard from '@mui/material/Card';\n\ntype Props = {\n    data: any;\n    onClick: (id: number) => void;\n};\n\nconst Card = (props: Props) => {\n    const {data, onClick} = props;\n    const {name, description, id} = data;\n\n    const handleClick = () => {\n        onClick(id)\n    }\n\n    return (\n        <MuiCard>\n            <CardContent sx={{pb: 1}}>\n                <Typography variant=\"h5\" component=\"div\">\n                    {name}\n                </Typography>\n                <Typography gutterBottom variant={\"caption\"} color=\"text.secondary\">ID: {id}</Typography>\n                <Typography overflow={\"hidden\"} textOverflow={\"ellipsis\"} variant=\"body2\" sx={{height: 60, maxWidth: 500}}>\n                    {description}\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <Button size=\"small\" onClick={handleClick}></Button>\n            </CardActions>\n        </MuiCard>\n    );\n};\n\nexport default Card","import React, {useState} from 'react';\nimport CardHeader from \"@mui/material/CardHeader\";\nimport {Button, Stack} from \"@mui/material\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport Collapse from \"@mui/material/Collapse\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Card from \"@mui/material/Card\";\nimport {styled} from \"@mui/material/styles\";\nimport IconButton, {IconButtonProps} from \"@mui/material/IconButton\";\n\ntype Props = {\n    data: any,\n    hideExpandButton?: boolean,\n    hideOpenButton?: boolean,\n    onClick?: (id: number) => void\n};\n\ninterface ExpandMoreProps extends IconButtonProps {\n    expand: boolean;\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n    const {expand, ...other} = props;\n    return <IconButton {...other} />;\n})(({theme, expand}) => ({\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n    }),\n}));\n\nconst ExpandableCard: React.FC<Props> = (props) => {\n    const {data, children, hideExpandButton, hideOpenButton, onClick} = props;\n    const {name, description, id} = data;\n    const [expand, setExpand] = useState(false);\n\n    const handleToggle = () => {\n        setExpand(!expand)\n    }\n\n    const handleClick = () => {\n        if (onClick) {\n            onClick(id)\n        }\n    }\n\n    const actions = [];\n    if (!hideOpenButton) {\n        actions.push(\n            <Button key={\"open_button\"} variant={\"contained\"} onClick={handleClick}></Button>\n        )\n    }\n    if (!hideExpandButton) {\n        actions.push(\n            <ExpandMore\n                key={\"expand_button\"}\n                expand={expand}\n                onClick={handleToggle}\n                aria-expanded={expand}\n                aria-label=\"show more\"\n            >\n                <ExpandMoreIcon/>\n            </ExpandMore>\n        )\n    }\n\n    return (\n        <Card>\n            <CardHeader\n                action={\n                    <Stack direction=\"row\" spacing={1}>\n                        {actions}\n                    </Stack>\n                }\n\n                title={name}\n                subheader={`ID: ${id}`}\n                titleTypographyProps={{variant: \"h6\"}}\n                subheaderTypographyProps={{variant: \"caption\"}}\n            />\n            <Collapse in={expand} timeout=\"auto\" unmountOnExit>\n                <CardContent>\n                    {children}\n                </CardContent>\n            </Collapse>\n        </Card>\n    );\n};\n\nexport default ExpandableCard","import React from 'react';\nimport {Grid, Typography} from \"@mui/material\";\nimport Card from \"../card/Card\";\nimport ExpandableCard from \"../card/ExpandableCard\";\nimport {ViewProps} from \"./List.types\";\n\ntype Props = {\n    data: any[],\n    view: ViewProps,\n    onSelect: (id: number) => void\n};\n\nconst ListContent = (props: Props) => {\n    const {data, view, onSelect} = props;\n    if (!data) {\n        return <Typography>Error</Typography>;\n    }\n    if (view === \"grid\") {\n        return (\n            <Grid container py={2} spacing={{xs: 2, md: 3}} columns={{xs: 4, sm: 8, md: 12}}>\n                {data.map((item, index) =>\n                    <Grid item xs={2} sm={4} md={4} key={index}>\n                        <Card data={item} onClick={onSelect}/>\n                    </Grid>\n                )}\n            </Grid>\n        );\n    }\n    if (view === \"list\") {\n        return (\n            <Grid container py={2} spacing={2}>\n                {data.map((item, index) =>\n                    <Grid item xs={12} key={index}>\n                        <ExpandableCard data={item} hideExpandButton={true} onClick={onSelect}/>\n                    </Grid>\n                )}\n            </Grid>\n        );\n    }\n    return null;\n};\n\nexport default ListContent","import React from 'react';\nimport {Button, Grid, IconButton, Tooltip, Typography} from \"@mui/material\";\nimport {Link} from \"react-router-dom\";\nimport GridViewIcon from \"@mui/icons-material/GridView\";\nimport ViewListIcon from \"@mui/icons-material/ViewList\";\nimport {ViewProps} from \"./List.types\";\n\ntype Props = {\n    label?: string,\n    location: any,\n    view: ViewProps,\n    hideCreateButton?: boolean,\n    hideViewButton?: boolean,\n    onViewChange: (view: ViewProps) => void\n};\n\nconst ListHeader = (props: Props) => {\n    const {label, view, location, hideCreateButton, hideViewButton, onViewChange} = props;\n    return (\n        <Grid container alignItems={\"center\"} spacing={1}>\n            <Grid item flex={1}>\n                <Typography hidden={!label} variant={\"h4\"}>{label}</Typography>\n            </Grid>\n            <Grid item hidden={hideCreateButton}>\n                <Button component={Link} to={\"new\"} state={{from: location}} variant={\"contained\"} sx={{\n                    '&:hover': {\n                        color: 'white',\n                        boxShadow: 'none',\n                    }\n                }}></Button>\n            </Grid>\n            <Grid item hidden={hideViewButton}>\n                <Tooltip title={\"\"}>\n                    <IconButton\n                        color={view === \"grid\" ? \"primary\" : \"default\"}\n                        onClick={() => onViewChange(\"grid\")}\n                    >\n                        <GridViewIcon/>\n                    </IconButton>\n                </Tooltip>\n                <Tooltip title={\"\"}>\n                    <IconButton\n                        color={view === \"list\" ? \"primary\" : \"default\"}\n                        onClick={() => onViewChange(\"list\")}\n                    >\n                        <ViewListIcon/>\n                    </IconButton>\n                </Tooltip>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default ListHeader","import React, {useEffect, useState} from 'react';\nimport {Box} from \"@mui/material\";\nimport {useLocation} from \"react-router-dom\";\nimport ListContent from \"./ListContent\";\nimport ListHeader from \"./ListHeader\";\nimport {ViewProps} from \"./List.types\";\n\n\ntype Props = {\n    data: any[],\n    id: string,\n    label?: string,\n    defaultView?: ViewProps;\n    hideCreateButton?: boolean,\n    hideViewButton?: boolean,\n    onSelect: (id: number) => void,\n};\n\nconst List = (props: Props) => {\n    const {id, data, label, defaultView, hideCreateButton, hideViewButton, onSelect} = props;\n    const location = useLocation();\n\n    const [view, setView] = useState<ViewProps>(defaultView ?? \"grid\");\n\n    useEffect(() => {\n        if (!defaultView) {\n            const view = localStorage.getItem(`${id}_view`) as ViewProps || \"grid\";\n            if (view) {\n                setView(view)\n            }\n        }\n    }, [])\n\n    const handleViewChange = (view: ViewProps) => {\n        setView(view)\n        localStorage.setItem(`${id}_view`, view);\n    }\n\n    return (\n        <Box>\n            <ListHeader label={label} view={view} onViewChange={handleViewChange} location={location}\n                        hideCreateButton={hideCreateButton} hideViewButton={hideViewButton}/>\n            <ListContent data={data} view={view} onSelect={onSelect}/>\n        </Box>\n    );\n};\n\nexport default List","import React, {useEffect, useState} from \"react\";\nimport useAxios from \"../../services/api/useAxios\";\nimport {Box} from \"@mui/material\";\nimport {useNavigate} from \"react-router-dom\";\nimport List from \"../../components/list/List\";\n\nconst Campaigns = () => {\n    const {getCampaigns} = useAxios()\n    const navigate = useNavigate();\n\n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        getCampaigns().then(res => setData(res))\n    }, [])\n\n    const handleSelect = (id: number) => {\n        navigate(`/campaign/${id}/chain`)\n    }\n\n    return (\n        <Box px={3} py={1}>\n            <List id={\"campaigns\"} data={data} hideCreateButton={true} label={\"\"} onSelect={handleSelect}/>\n        </Box>\n    )\n}\n\nexport default Campaigns","import React, {useContext} from \"react\";\nimport {Button} from \"@mui/material\";\nimport {useAuth} from \"../../context/authentication/hooks/useAuth\";\nimport {useLocation, useNavigate} from \"react-router-dom\";\n\n\nconst Login = () => {\n    const {login} = useAuth();\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    // @ts-ignore\n    const from = location?.state?.from?.pathname || \"/\";\n\n    const handleLogin = () => {\n        login(() => navigate(from, { replace: true }))\n    }\n\n    return <Button onClick={handleLogin}>Login</Button>\n}\n\nexport default Login","import React from 'react';\nimport {CSSObject, styled, Theme, useTheme} from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport MuiDrawer from '@mui/material/Drawer';\nimport MuiLink from '@mui/material/Link';\nimport MuiAppBar, {AppBarProps as MuiAppBarProps} from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\nimport {Button} from \"@mui/material\";\nimport {useAuth} from \"../../../context/authentication/hooks/useAuth\";\nimport FilePresentIcon from '@mui/icons-material/FilePresent';\n\nconst drawerWidth = 240;\n\nconst openedMixin = (theme: Theme): CSSObject => ({\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n    }),\n    overflowX: 'hidden',\n});\n\nconst closedMixin = (theme: Theme): CSSObject => ({\n    transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: `calc(${theme.spacing(7)} + 1px)`,\n    [theme.breakpoints.down('sm')]: {\n        width: 0,\n    }\n});\n\nconst DrawerHeader = styled('div')(({theme}) => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n}));\n\ninterface AppBarProps extends MuiAppBarProps {\n    open?: boolean;\n}\n\nconst StyledAppBar = styled(MuiAppBar, {\n    shouldForwardProp: (prop) => prop !== 'open',\n})<AppBarProps>(({theme, open}) => ({\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n    }),\n    ...(open && {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    }),\n}));\n\nconst Drawer = styled(MuiDrawer, {shouldForwardProp: (prop) => prop !== 'open'})(\n    ({theme, open}) => ({\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: 'nowrap',\n        boxSizing: 'border-box',\n        ...(open && {\n            ...openedMixin(theme),\n            '& .MuiDrawer-paper': openedMixin(theme),\n        }),\n        ...(!open && {\n            ...closedMixin(theme),\n            '& .MuiDrawer-paper': closedMixin(theme),\n        }),\n    }),\n);\n\nexport default function Appbar(props: { children?: any }) {\n    const theme = useTheme();\n    const {campaignId} = useParams();\n    const navigate = useNavigate();\n    const {logout} = useAuth();\n    const [open, setOpen] = React.useState(false);\n    const {children} = props;\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const DrawerItems = [\n        {page: \"chain\", title: \"\", icon: <InboxIcon/>},\n        {page: \"flattener\", title: \"Flattener\", icon: <FilePresentIcon/>}\n    ]\n\n    const renderDrawerItems = () => {\n        return DrawerItems.map((item, index) => (\n            <ListItem key={index} component={Link} to={`campaign/${campaignId}/${item.page}`}>\n                <ListItemIcon>\n                    {item.icon}\n                </ListItemIcon>\n                <ListItemText primary={item.title}/>\n            </ListItem>\n        ));\n    };\n\n    return (\n        <Box sx={{display: 'flex'}}>\n            <CssBaseline/>\n            <StyledAppBar position=\"fixed\" open={open}>\n                <Toolbar>\n                    {campaignId && <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        sx={{\n                            marginRight: '36px',\n                            ...(open && {display: 'none'}),\n                        }}\n                    >\n                        <MenuIcon/>\n                    </IconButton>}\n                    <Box sx={{flexGrow: 1}}>\n                        <MuiLink component={Link} color={\"inherit\"} underline=\"none\" variant=\"h6\" noWrap to={\"/\"} sx={{\n                            '&:hover': {\n                                color: 'white',\n                                boxShadow: 'none',\n                            }\n                        }}>\n                            GigaTurnip Admin Interface\n                        </MuiLink>\n                    </Box>\n                    <Button color={\"inherit\"} onClick={() => logout(() => navigate('/'))}></Button>\n                </Toolbar>\n            </StyledAppBar>\n            {campaignId && <Drawer variant=\"permanent\" open={open}>\n                <DrawerHeader>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'rtl' ? <ChevronRightIcon/> : <ChevronLeftIcon/>}\n                    </IconButton>\n                </DrawerHeader>\n                <Divider/>\n                <List>\n                    {renderDrawerItems()}\n                </List>\n            </Drawer>}\n            <Box component=\"main\" sx={{flexGrow: 1, width: \"100%\"}}>\n                <DrawerHeader/>\n                {children}\n            </Box>\n        </Box>\n    );\n}\n","import React from 'react';\nimport Appbar from \"./appbar/Appbar\";\nimport { Outlet } from \"react-router-dom\";\n\nconst Layout = () => {\n    return (\n        <div>\n            <Appbar>\n                <Outlet />\n            </Appbar>\n        </div>\n    );\n};\n\nexport default Layout","import React, {useEffect, useState} from 'react';\nimport {Box} from \"@mui/material\";\nimport useAxios from \"../../services/api/useAxios\";\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport List from \"../../components/list/List\";\n\n\nconst Chains = () => {\n    const {getChains} = useAxios();\n    const navigate = useNavigate();\n    const {campaignId} = useParams()\n\n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        if (campaignId) {\n            const parsedId = parseInt(campaignId)\n            getChains(parsedId).then(res => setData(res))\n        }\n    }, [])\n\n    const handleSelect = (id: number) => {\n        navigate(`${id}`)\n    }\n\n    return (\n        <Box px={3} py={1}>\n            <List\n                id={\"chains\"}\n                data={data}\n                label={\"\"}\n                onSelect={handleSelect}\n            />\n        </Box>\n\n    );\n};\n\nexport default Chains","import React from 'react';\nimport {Handle, Position} from 'react-flow-renderer';\nimport {styled} from \"@mui/material/styles\";\nimport {NodeType} from \"./Node.types\";\nimport {Box, BoxProps as MuiBoxProps, Typography} from \"@mui/material\";\n\n\ninterface NodeProps extends MuiBoxProps {\n    type: \"logic\" | \"stage\";\n}\n\nconst Node = styled(Box)<NodeProps>(({theme, type}) => ({\n    fontSize: '12px',\n    width: '150px',\n    textAlign: 'center',\n    color: type === \"stage\" ? theme.palette.success.contrastText : theme.palette.primary.contrastText,\n    backgroundColor: type === \"stage\" ? theme.palette.success.main : theme.palette.primary.main,\n    padding: theme.spacing(1),\n    borderRadius: theme.shape.borderRadius,\n}));\n\n\nconst BaseNode = (props: NodeType) => {\n    const {data, type} = props;\n\n    return (\n        <Node type={type}>\n            <Typography>{data.label}</Typography>\n            <Handle\n                type=\"target\"\n                position={Position.Top}\n                style={{borderRadius: '100%', width: 10, height: 10, left: 75}}\n            />\n            <Handle\n                type=\"source\"\n                position={Position.Bottom}\n                style={{borderRadius: '100%', width: 10, height: 10, left: 75}}\n            />\n        </Node>\n    );\n};\n\nexport default BaseNode","import React from 'react';\nimport BaseNode from \"./BaseNode\";\nimport { NodeType, ConditionType } from \"./Node.types\";\nimport { styled } from \"@mui/material/styles\";\nimport { Box, Typography } from '@mui/material';\n\nconst Node = styled(BaseNode)(({ theme }) => ({\n    // borderColor: '#0041d0'\n    color: theme.palette.primary.contrastText,\n    backgroundColor: theme.palette.primary.main,\n}));\n\n\nconst buildConditionText = (condition: ConditionType) => {\n    return `${condition.field} ${condition.condition} ${condition.value}`\n}\n\nconst ConditionList = (props: { conditions: ConditionType[] }) => {\n    const { conditions } = props;\n    return <Box>\n        {conditions && conditions.map((item, index) =>\n            <Typography key={`condition_${index}`} style={{ border: '1px solid', borderRadius: '10px', background: 'lightgrey' }} px={1} variant={'body2'}>\n                {buildConditionText(item)}\n            </Typography>\n        )}\n    </Box>\n}\n\nconst CustomLogicNode = ({ data }: NodeType) => <Box display={\"flex\"} alignItems=\"center\">\n    <Node data={data} type={\"logic\"} />\n    <ConditionList conditions={data.conditions} />\n</Box>;\n\nexport default CustomLogicNode","import React from 'react';\nimport BaseNode from \"./BaseNode\";\nimport { NodeType, Rank } from \"./Node.types\";\nimport { styled } from \"@mui/material/styles\";\nimport { Avatar, Box, Icon, Typography } from '@mui/material';\n\n\nconst Node = styled(BaseNode)(({ theme }) => ({\n    // borderColor: '#32CD32'\n    color: theme.palette.success.contrastText,\n    backgroundColor: theme.palette.success.main,\n}));\n\nconst RankRow = (props: { ranks: Rank[] }) => {\n    const { ranks } = props;\n\n    return <Box display={\"flex\"}>\n        {ranks.map((item, index) => <Box key={`rank_${index}`} display={\"flex\"} flexDirection=\"column\" justifyContent={\"center\"} alignItems=\"center\" bgcolor={\"orange\"} p={0.3} border={\"1px solid\"}>\n            <Avatar sx={{ width: 30, height: 30 }} src={`data:image/svg+xml;utf8,${item.avatar}`} />\n            <Typography variant='body2'>{item.name}</Typography>\n        </Box>)}\n    </Box>\n}\n\nconst CustomStageNode = ({ data }: NodeType) => <Box display={\"flex\"}>\n    <Node data={data} type={\"stage\"} />\n    <RankRow ranks={data.ranks}/>\n</Box>;\n\nexport default CustomStageNode","import {FlowElement} from \"react-flow-renderer\";\nimport {conditionalstagesUrl, taskstagesUrl} from \"../../services/api/Urls\";\nimport {ConnectionsParams} from \"./Helpers.types\";\nimport {isEdge} from \"react-flow-renderer\";\nimport useAxios from \"../../services/api/useAxios\";\n// @ts-ignore\nimport {retrieveSchema, toPathSchema} from \"@rjsf/core/lib/utils\";\n// @ts-ignore\nimport _get from \"lodash/get\";\n// @ts-ignore\nimport _isEmpty from \"lodash/isEmpty\";\n\nconst useHelpers = () => {\n    const {axios} = useAxios();\n\n    /**\n     * Get flatten fields from schema\n     * @param schema\n     * @param formData\n     * @returns {*[]}\n     */\n    const getFormFields = (schema: any, formData = {}) => {\n        const retrievedSchema = retrieveSchema(\n            schema\n        );\n\n        const pathSchema = toPathSchema(\n            retrievedSchema,\n            \"\",\n            schema,\n            formData\n        );\n\n        const getFieldNames = (pathSchema: any, formData: any) => {\n            const getAllPaths = (_obj: any, acc: any[] = [], paths = [\"\"]) => {\n                Object.keys(_obj).forEach(key => {\n                    if (typeof _obj[key] === \"object\") {\n                        let newPaths = paths.map(path => `${path}.${key}`);\n                        // If an object is marked with additionalProperties, all its keys are valid\n                        if (_obj[key].__rjsf_additionalProperties && _obj[key].$name !== \"\") {\n                            acc.push(_obj[key].$name);\n                        } else {\n                            getAllPaths(_obj[key], acc, newPaths);\n                        }\n                    } else if (key === \"$name\" && _obj[key] !== \"\") {\n                        paths.forEach(path => {\n                            path = path.replace(/^\\./, \"\");\n                            const formValue = _get(formData, path);\n                            // adds path to fieldNames if it points to a value\n                            // or an empty object/array\n                            if (typeof formValue !== \"object\" || _isEmpty(formValue)) {\n                                acc.push(path);\n                            }\n                        });\n                    }\n                });\n                return acc;\n            };\n            return getAllPaths(pathSchema);\n        };\n\n        return getFieldNames(pathSchema, formData);\n    };\n\n    const parseId = (id: string | undefined) => {\n        if (id) {\n            return parseInt(id)\n        } else {\n            throw new Error(\"No id\");\n        }\n    }\n\n    /**\n     * Search node in elements (state) and return it.\n     * @param id\n     * @param elements\n     * @return {FlowElement | undefined}\n     */\n    const getNode = (id: number, elements: FlowElement[]) => {\n        return elements.filter((node: any) => parseInt(node.id) === id).pop()\n    }\n\n    /**\n     *\n     * @param node\n     * @returns {string | undefined}\n     */\n    const getUrl = (node: FlowElement) => {\n        if (node.type === \"STAGE\") {\n            return taskstagesUrl\n        }\n        if (node.type === \"LOGIC\") {\n            return conditionalstagesUrl\n        }\n        return undefined\n    }\n\n    /**\n     * Add or remove connections (in_stages && out_stages) in database via API\n     * @param node - Source or Target of the current node\n     * @param currentNodeId\n     * @param type - 'in' (Incoming) or 'out' (Outgoing) connection\n     * @param method - 'create' or 'delete'\n     * @returns {Promise<void>}\n     */\n    const updateConnections = async ({node, currentNodeId, type, method}: ConnectionsParams) => {\n        // Returns url of given node type (logic or stage or undefined)\n        const url = getUrl(node)\n        if (url) {\n            // Get connections of a given node\n            let connections = undefined;\n            const {data} = await axios.get(`${url + node.id}/`);\n\n            if (type === 'in') {\n                connections = data.in_stages\n            }\n            if (type === 'out') {\n                connections = data.out_stages\n            }\n\n            if (connections) {\n                let ids = []\n                // Add current node id to given node connections\n                if (method === 'create') {\n                    ids = [currentNodeId, ...connections]\n                }\n                if (method === 'delete') {\n                    ids = connections.filter((connection: number) => connection !== currentNodeId)\n                }\n\n                let data = undefined\n                if (type === 'in') {\n                    data = {in_stages: ids}\n                }\n                if (type === 'out') {\n                    data = {out_stages: ids}\n                }\n                if (data) {\n                    console.log(data)\n                    await axios.patch(`${url + node.id}/`, data)\n                }\n            }\n        }\n    }\n\n    const addConnections = (target: number, source: number, elements: FlowElement[]) => {\n        const targetNode = getNode(target, elements)\n        const sourceNode = getNode(source, elements)\n\n        if (targetNode) {\n            updateConnections({node: targetNode, currentNodeId: source, type: 'in', method: 'create'})\n        }\n\n        if (sourceNode) {\n            updateConnections({node: sourceNode, currentNodeId: target, type: 'out', method: 'create'})\n        }\n    }\n\n\n    const removeConnections = (target: number, source: number, elements: FlowElement[]) => {\n        const targetNode = getNode(target, elements)\n        const sourceNode = getNode(source, elements)\n\n        if (targetNode) {\n            updateConnections({node: targetNode, currentNodeId: source, type: 'in', method: 'delete'})\n        }\n\n        if (sourceNode) {\n            updateConnections({node: sourceNode, currentNodeId: target, type: 'out', method: 'delete'})\n        }\n    }\n\n    const removeElements = (elementsToRemove: FlowElement[], elements: FlowElement[]) => {\n        const nodeIdsToRemove = elementsToRemove.map((n: any) => {\n            return n.id;\n        });\n\n        return elements.filter((element: any) => {\n            if (nodeIdsToRemove.includes(element.id)) {\n                if (isEdge(element)) {\n                    let target = parseInt(element.target)\n                    let source = parseInt(element.source)\n\n                    removeConnections(target, source, elements)\n                } else {\n                    const url = getUrl(element)\n                    if (url) {\n                        axios.delete(url + element.id + '/')\n                    }\n                }\n                return false\n            } else {\n                return true\n            }\n        });\n    };\n\n    /**\n     * Update node (stage) coordinates in database via API\n     * @param node\n     */\n    const updateNode = (node: any) => {\n        const x_pos = Math.round(node.position.x);\n        const y_pos = Math.round(node.position.y);\n        const data = {x_pos, y_pos};\n        const url = getUrl(node)\n        console.log(data)\n        if (url) {\n            axios.patch(url + node.id + '/', data).then(res => console.log(res.data))\n        }\n    }\n\n    /**\n     * Create node (stage) in database via API\n     * @param node\n     * @param chainId\n     * @returns {Promise<string | undefined>}\n     */\n    const createNode = async (node: { type: string, position: { x: number, y: number }, label: string }, chainId: number) => {\n        const data = {\n            name: node.label,\n            x_pos: Math.round(node.position.x),\n            y_pos: Math.round(node.position.y),\n            chain: chainId,\n            out_stages: []\n        };\n\n        const url = getUrl(node as any)\n        if (url) {\n            const stage = await axios.post(url, data).then(res => res.data).catch(err => console.log(err));\n            return stage.id.toString()\n        }\n        return undefined;\n    }\n    return {\n        getFormFields,\n        parseId,\n        getNode,\n        getUrl,\n        updateConnections,\n        addConnections,\n        removeConnections,\n        removeElements,\n        updateNode,\n        createNode\n    };\n};\n\nexport default useHelpers\n","import React, {useEffect, useState} from 'react';\nimport {Box, Grid, TextField, Typography} from \"@mui/material\";\nimport {styled} from \"@mui/material/styles\";\n\n\nconst Node = styled(Box)<{ type: \"stage\" | \"logic\" }>(({theme, type}) => ({\n    fontSize: '12px',\n    width: '150px',\n    textAlign: 'center',\n    color: type === \"stage\" ? theme.palette.success.contrastText : theme.palette.primary.contrastText,\n    backgroundColor: type === \"stage\" ? theme.palette.success.main : theme.palette.primary.main,\n    padding: theme.spacing(1),\n    borderRadius: theme.shape.borderRadius,\n    cursor: \"grab\",\n    margin: 8,\n}));\n\nconst Sidebar = () => {\n    const [draggable, setDraggable] = useState(false)\n    const [label, setLabel] = useState(\"\")\n\n    useEffect(() => {\n        if (label && label !== \"\") {\n            setDraggable(true)\n        } else {\n            setDraggable(false)\n        }\n    }, [label])\n\n    const onDragStart = (event: { dataTransfer: DataTransfer }, nodeLabel: string, nodeType: string) => {\n        let data = JSON.stringify({label, type: nodeType})\n        event.dataTransfer.setData('application/reactflow', data);\n        event.dataTransfer.effectAllowed = 'move';\n    };\n\n    const onDragEnd = () => {\n        setLabel(\"\")\n    }\n\n    return (\n        <Grid item container justifyContent={\"center\"} px={1}>\n            <Grid container item mt={2} justifyContent={\"center\"}>\n                <TextField label={\"Label\"} size=\"small\" value={label} onChange={(e) => setLabel(e.target.value)}/>\n                <Typography py={1} variant={\"caption\"} color={\"red\"} align={\"center\"}>\n                    {!draggable && 'Enter label to drag the node'}\n                </Typography>\n            </Grid>\n            <Grid item>\n                <Node type={\"stage\"} onDragEnd={onDragEnd}\n                      onDragStart={(event) => onDragStart(event, label ? label : '', 'STAGE')}\n                      draggable={draggable}>\n                    Taskstage Node\n                </Node>\n                <Node type={\"logic\"} onDragEnd={onDragEnd}\n                      onDragStart={(event) => onDragStart(event, label ? label : '', 'LOGIC')}\n                      draggable={draggable}>\n                    Conditional Node\n                </Node>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default Sidebar","// noinspection ES6MissingAwait,JSIgnoredPromiseFromCall\n\nimport React, {useEffect, useRef, useState} from 'react';\nimport ReactFlow, {addEdge, Controls, Edge, FlowElement} from 'react-flow-renderer';\nimport LogicNode from './nodes/LogicNode'\nimport StageNode from './nodes/StageNode'\n\nimport './css/dnd.css';\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport useAxios from \"../../services/api/useAxios\";\nimport {Grid} from \"@mui/material\";\nimport Sidebar from \"./sidebar/Sidebar\";\n\n\nconst Graph = () => {\n    const reactFlowWrapper = useRef(null);\n    const {getStageNodes, getLogicNodes} = useAxios();\n    const {parseId, addConnections, createNode, removeElements, updateNode} = useHelpers();\n    const {campaignId, chainId} = useParams();\n    const [reactFlowInstance, setReactFlowInstance] = useState(null);\n    const [elements, setElements] = useState<FlowElement[]>([]);\n    const navigate = useNavigate();\n\n    const parsedCampaignId: number = parseId(campaignId);\n    const parsedChainId: number = parseId(chainId);\n    const extraEdgeOptions = {style: {strokeWidth: 3}, arrowHeadType: \"arrow\"}\n\n    // <------ UseEffect Part ------>\n    useEffect(() => {\n        Promise.all([getStageNodes(parsedCampaignId, parsedChainId), getLogicNodes(parsedCampaignId, parsedChainId)])\n            .then((results) => {\n                const stageNodes = results[0];\n                const logicNodes = results[1];\n\n                // Add types to nodes\n                stageNodes.forEach((node: any) => node.type = \"STAGE\")\n                logicNodes.forEach((node: any) => node.type = \"LOGIC\")\n\n                // Construct nodes and save to state\n                const allNodes = [...stageNodes, ...logicNodes]\n                const nodes: FlowElement[] = allNodes.map((node: any) => (\n                        {\n                            id: node.id.toString(),\n                            position: {x: parseFloat(node.x_pos), y: parseFloat(node.y_pos)},\n                            data: {label: node.name, ranks: node.ranks, conditions: node.conditions},\n                            type: node.type\n                        }\n                    )\n                )\n                setElements(nodes)\n                return allNodes\n            })\n            .then(allNodes => {\n                // Construct edges and save to state\n                allNodes.forEach(stage => {\n                    if (stage.in_stages.length > 0) {\n                        stage.in_stages.forEach((sourceId: string | number) => {\n                            const edge = {\n                                source: sourceId.toString(),\n                                target: stage.id.toString(),\n                                id: `${sourceId}-${stage.id}`,\n                                ...extraEdgeOptions\n                            } as Edge\n                            setElements((els) => addEdge(edge, els))\n                        })\n                    }\n                })\n            })\n    }, [parsedChainId])\n\n\n    // <------ Frameworks Functions Part ------>\n\n    const onConnect = async (params: object) => {\n        const newParams: any = {...params, ...extraEdgeOptions}\n        const target = parseInt(newParams.target)\n        const source = parseInt(newParams.source)\n\n        setElements((els: FlowElement[]) => addEdge(newParams, els))\n        addConnections(target, source, elements)\n    }\n\n    const onElementsRemove = (elementsToRemove: FlowElement[]) => {\n        setElements((els) => removeElements(elementsToRemove, els));\n    }\n\n    const onLoad = (_reactFlowInstance: any) =>\n        setReactFlowInstance(_reactFlowInstance);\n\n    const onDragOver = (event: any) => {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n    };\n\n    const onDrop = async (event: any) => {\n        event.preventDefault();\n\n        // @ts-ignore\n        const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n        // Get new node data from sidebar\n        const transfer = event.dataTransfer.getData('application/reactflow');\n        // @ts-ignore\n        const position = reactFlowInstance.project({\n            x: event.clientX - reactFlowBounds.left,\n            y: event.clientY - reactFlowBounds.top,\n        });\n\n        const parsedData = JSON.parse(transfer)\n        const label = parsedData.label\n        const type = parsedData.type\n\n        if (label === \"\") {\n            return 0;\n        }\n\n        const id = await createNode({type, position, label}, parsedChainId)\n\n        let newNode = {\n            id,\n            type,\n            position,\n            data: {label},\n        };\n\n        setElements((es) => [...es, newNode]);\n    };\n\n    const onNodeDragStop = (event: any, node: any) => {\n        updateNode(node)\n    }\n\n    const onElementDoubleClick = (event: any, element: any) => {\n        console.log(element)\n        if (element.id) {\n            if (element.type === 'LOGIC') {\n                navigate(`createlogic/${element.id}`)\n            }\n            if (element.type === 'STAGE') {\n                navigate(`createstage/${element.id}`)\n            }\n        }\n    }\n\n    // Init custom node types\n    const nodeTypes = {\n        LOGIC: LogicNode,\n        STAGE: StageNode\n    };\n\n\n    return (\n        <Grid container>\n            <Grid item md={10} zIndex={1}>\n                <ReactFlow\n                    ref={reactFlowWrapper}\n                    nodeTypes={nodeTypes}\n                    elements={elements}\n                    onConnect={onConnect}\n                    onElementsRemove={onElementsRemove}\n                    onNodeDoubleClick={onElementDoubleClick}\n                    onEdgeDoubleClick={onElementDoubleClick}\n                    onLoad={onLoad}\n                    onDrop={onDrop}\n                    onDragOver={onDragOver}\n                    onNodeDragStop={onNodeDragStop}\n                    preventScrolling={true}\n                    style={{\n                        width: '94vw',\n                        height: '90vh'\n                    }}\n                >\n                    <Controls/>\n                </ReactFlow>\n            </Grid>\n            <Grid item md={2} zIndex={2} height={200} sx={{background: \"white\"}}>\n                <Sidebar/>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default Graph;","import React, {Component} from 'react';\nimport {Box, IconButton, Stack, Tooltip} from \"@mui/material\";\nimport {ViewModeProps} from \"../StageBuilder.types\";\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport {styled} from \"@mui/material/styles\";\n\ntype Props = {\n    mode: ViewModeProps,\n    allModes: { [mode: string]: { title: string, icon: Component } },\n    onChange: (mode: ViewModeProps) => void,\n    onBack: () => void\n};\n\nconst GoBackButton = styled(IconButton)(({theme}) => ({\n    color: theme.palette.primary.contrastText,\n    backgroundColor: theme.palette.primary.main,\n    '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n    },\n}));\n\nconst Controls = (props: Props) => {\n    const {mode, allModes, onChange, onBack} = props;\n\n    const renderButtons = () => {\n        const types = Object.keys(allModes);\n        return types.map((type: any) => {\n            const fill = mode === type ? \"primary\" : \"default\";\n            const title = allModes[type].title;\n            const icon = allModes[type].icon;\n            return (\n                <Box key={type}>\n                    <Tooltip title={title}>\n                        <IconButton color={fill} onClick={() => onChange(type as ViewModeProps)}>\n                            {icon}\n                        </IconButton>\n                    </Tooltip>\n                </Box>\n            );\n        });\n    };\n\n    return (\n        <Box display={\"flex\"} justifyContent={\"flex-end\"} sx={{position: \"sticky\", top: 60}} p={1} zIndex={1}>\n            <Box flex={1}>\n                <Tooltip title={\"\"}>\n                    <GoBackButton onClick={onBack}>\n                        {<ArrowBackIcon fontSize={\"large\"}/>}\n                    </GoBackButton>\n                </Tooltip>\n            </Box>\n            <Stack direction=\"row\" spacing={1}>\n                {renderButtons()}\n            </Stack>\n        </Box>\n    );\n};\n\nexport default Controls","import React from \"react\";\n\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst AudioWidget = ({\n                         id,\n                         schema,\n                         options,\n                         value,\n                         required,\n                         disabled,\n                         readonly,\n                         label,\n                         onChange,\n                         onBlur,\n                         onFocus,\n                     }: WidgetProps) => {\n\n    const _onChange = ({\n                           target: {value},\n                       }: React.ChangeEvent<HTMLInputElement>) =>\n        onChange(schema.type == \"boolean\" ? value !== \"false\" : value);\n    const _onBlur = ({target: {value}}: React.FocusEvent<HTMLInputElement>) =>\n        onBlur(id, value);\n    const _onFocus = ({\n                          target: {value},\n                      }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n\n    return (\n        <p>  </p>\n    );\n};\n\nexport default AudioWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nconst TextWidget = ({\n  id,\n  placeholder,\n  required,\n  readonly,\n  disabled,\n  label,\n  value,\n  onChange,\n  onBlur,\n  onFocus,\n  autofocus,\n  options,\n  schema,\n  rawErrors = [],\n\n}: WidgetProps) => {\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) =>\n    onChange(value === \"\" ? options.emptyValue : value);\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n  const inputType = (schema.type) === 'string' ?  'text' : `${schema.type}`\n    \n  return (\n    <Form.Group className=\"mb-0\">\n      <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n        {label || schema.title}\n        {(label || schema.title) && required ? \"*\" : null}\n      </Form.Label>\n      <Form.Control\n        id={id}\n        placeholder={placeholder}\n        autoFocus={autofocus}\n        required={required}\n        disabled={disabled}\n        readOnly={readonly}\n        className={rawErrors.length > 0 ? \"is-invalid\" : \"\"}\n        list={schema.examples ? `examples_${id}` : undefined}\n        type={inputType}\n        value={value || value === 0 ? value : \"\"}\n        onChange={_onChange}\n        onBlur={_onBlur}\n        onFocus={_onFocus}\n\n      />\n      {schema.examples ? (\n        <datalist id={`examples_${id}`}>\n          {(schema.examples as string[])\n            .concat(schema.default ? ([schema.default] as string[]) : [])\n            .map((example: any) => {\n              return <option key={example} value={example} />;\n            })}\n        </datalist>\n      ) : null}\n    </Form.Group>\n  );\n};\n\nexport default TextWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst CustomLinkWidget = ({required, label, value, schema, rawErrors = []}: WidgetProps) => {\n    return (\n        value ? <Form.Group className=\"mb-0\">\n                <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                    {label || schema.title}\n                    {(label || schema.title) && required ? \"*\" : null}\n                </Form.Label>\n                <br/>\n                <a href={value}>{value}</a>\n            </Form.Group>\n            : null\n    );\n};\n\nexport default CustomLinkWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nconst RadioWidget = ({\n  id,\n  schema,\n  options,\n  value,\n  required,\n  disabled,\n  readonly,\n  label,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) =>\n    onChange(schema.type == \"boolean\" ? value !== \"false\" : value);\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const inline = Boolean(options && options.inline);\n\n  return (\n    <Form.Group className=\"mb-0\">\n      <Form.Label className=\"d-block\">\n        {label || schema.title}\n        {(label || schema.title) && required ? \"*\" : null}\n      </Form.Label>\n      {(enumOptions as any).map((option: any, i: number) => {\n        const itemDisabled =\n          Array.isArray(enumDisabled) &&\n          enumDisabled.indexOf(option.value) !== -1;\n        const checked = option.value == value;\n\n        const radio = (\n          <Form.Check\n            inline={inline}\n            label={option.label}\n            id={`${id}_${option.label}`}\n            key={i}\n            name={id}\n            type=\"radio\"\n            disabled={disabled || itemDisabled || readonly}\n            checked={checked}\n            required={required}\n            value={option.value}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n          />\n        );\n        return radio;\n      })}\n    </Form.Group>\n  );\n};\n\nexport default RadioWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport {FieldProps} from \"@rjsf/core\";\nimport {Box, Button, Typography} from \"@mui/material\";\n\nconst Counter = ({required, label, formData, schema, onChange, rawErrors = []}: FieldProps) => {\n\n    const _onChange = (action: \"add\" | \"remove\") => {\n        const _value = Array.isArray(formData) ? formData : [];\n        if (action === \"add\") {\n            const newValue = [..._value, new Date().toISOString()];\n            onChange(newValue);\n        } else if (action === \"remove\") {\n            const newValue = [..._value];\n            newValue.pop();\n            onChange(newValue);\n        }\n    }\n\n    return (\n        <Form.Group className=\"mb-0\">\n            <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <br/>\n            <Box display={\"flex\"} height={80} >\n                <Typography variant={\"h2\"} pr={1}>{Array.isArray(formData) ? formData.length : 0}</Typography>\n                <Button fullWidth variant={\"contained\"} onClick={() => _onChange(\"add\")}>+</Button>\n                <Button variant={\"contained\"} color={\"warning\"} onClick={() => _onChange(\"remove\")}>-</Button>\n            </Box>\n        </Form.Group>\n    );\n};\n\nexport default Counter;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { Autocomplete, TextField } from \"@mui/material\";\n\nconst SimpleAutoComplete = ({\n    id,\n    placeholder,\n    required,\n    readonly,\n    disabled,\n    label,\n    value,\n    onChange,\n    onBlur,\n    onFocus,\n    autofocus,\n    options,\n    schema,\n    rawErrors = [],\n\n}: WidgetProps) => {\n    const _onChange = ({\n        target: { value },\n    }: React.ChangeEvent<HTMLInputElement>) =>\n        onChange(value === \"\" ? options.emptyValue : value);\n    const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n        onBlur(id, value);\n    const _onFocus = ({\n        target: { value },\n    }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n    const inputType = (schema.type) === 'string' ? 'text' : `${schema.type}`\n\n    return (\n        <Form.Group className=\"mb-0\">\n            <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <Autocomplete\n                placeholder={placeholder}\n                disabled={disabled}\n                value={value || value === 0 ? value : \"\"}\n                onChange={(event, value, reason) => onChange(value === \"\" ? options.emptyValue : value)}\n                onBlur={_onBlur}\n                style={{ width: \"100%\" }}\n                onFocus={_onFocus}\n                disablePortal\n                id={id}\n                options={(schema.enum as string[]).concat(schema.default ? ([schema.default] as string[]) : [])}\n                sx={{ width: 300 }}\n                renderInput={(params) => <TextField required={required} autoFocus={autofocus} {...params} error={rawErrors.length > 0 ? true : false} hiddenLabel label=\"option\" size=\"small\" />}\n            />\n        </Form.Group>\n    );\n};\n\nexport default SimpleAutoComplete;","import React from \"react\";\n\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst WebhookWidget = (props: WidgetProps) => {\n\n    return (\n        <p>  webhook trigger</p>\n    );\n};\n\nexport default WebhookWidget;","import React from 'react';\nimport {Editor} from \"@tinymce/tinymce-react\";\n\ntype Props = {\n    id: string,\n    data: string\n};\n\nconst TextViewer = (props: Props) => {\n    const {id, data} = props;\n\n    return (\n        <Editor\n            id={id}\n            value={data}\n            toolbar={false}\n            inline={false}\n            disabled={true}\n            tinymceScriptSrc={process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'}\n            init={{\n                plugins: 'autoresize',\n                menubar: false,\n                image_advtab: true,\n                importcss_append: true,\n            }}\n        />\n    );\n};\n\nexport default TextViewer","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {WidgetProps} from \"@rjsf/core\";\nimport TextViewer from \"../../text-editor/TextViewer\";\n\nconst RichTextWidget = ({required, id, label, value, schema, rawErrors = []}: WidgetProps) => {\n    return (\n        value ? <Form.Group className=\"mb-0\">\n                <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                    {label || schema.title}\n                    {(label || schema.title) && required ? \"*\" : null}\n                </Form.Label>\n                <br/>\n                <TextViewer id={id} data={value} />\n            </Form.Group>\n            : null\n    );\n};\n\nexport default RichTextWidget;","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst ParagraphWidget = ({required, id, uiSchema, value, schema, label, rawErrors = []}: WidgetProps) => {\n\n    return (\n        <Form.Group className=\"mb-0\">\n                <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                    {label || schema.title}\n                    {(label || schema.title) && required ? \"*\" : null}\n                </Form.Label>\n                <br/>\n                <p>\n                    {uiSchema[\"ui:options\"] && uiSchema[\"ui:options\"].paragraph ? uiSchema[\"ui:options\"].paragraph : \"\"}\n                </p>\n            </Form.Group>\n    );\n};\n\nexport default ParagraphWidget;","import React from \"react\";\n\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst ImageWidget = (props: WidgetProps) => {\n\n    return (\n        <p>  image</p>\n    );\n};\n\nexport default ImageWidget;","import React from 'react';\nimport {AudioWidget, AutoCompleteWidget, LinkWidget, RadioWidget, CounterWidget, SimpleAutoComplete, WebhookWidget, RichTextWidget, ParagraphWidget, ImageWidget} from \"./custom-widgets\";\nimport JsonForm from \"@rjsf/bootstrap-4\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\ntype Props = {\n    schema: object,\n    uiSchema?: object,\n    formData?: any,\n    onChange?: (formData: object) => void,\n    onSubmit?: (formData: object) => void,\n    hideButton?: boolean\n};\n\nconst Form = (props: Props) => {\n    const {schema, uiSchema, formData, hideButton, onChange, onSubmit} = props;\n\n    const widgets = {\n        customfile: AudioWidget,\n        autocomplete: AutoCompleteWidget,\n        RadioWidget: RadioWidget,\n        customlink: LinkWidget,\n        audio: AudioWidget,\n        simple_autocomplete: SimpleAutoComplete,\n        webhook: WebhookWidget,\n        editor: RichTextWidget,\n        paragraph: ParagraphWidget,\n        image: ImageWidget,\n    };\n\n    const fields = {\n        counter: CounterWidget\n    }\n\n    const handleChange = (e: { formData: object }) => {\n        if (onChange) {\n            onChange(e.formData)\n        } else {\n            return 0\n        }\n    }\n\n    const handleSubmit = (e: {formData: object}) => {\n        if (onSubmit) {\n            onSubmit(e.formData)\n        } else {\n            return 0\n        }\n    }\n\n    return (\n        <JsonForm\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            widgets={widgets}\n            fields={fields}\n            onChange={handleChange}\n            onSubmit={handleSubmit}\n        >\n            {hideButton ? \" \" :\n                <button type=\"submit\" className=\"btn btn-primary\"></button>}\n        </JsonForm>\n    );\n};\n\nexport default Form","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    'ui:options': { private: boolean, default: string, readonly: boolean }\n    \"ui:readonly\": boolean,\n};\n\nconst CustomAudioField = ({\n                             parameters,\n                             onChange,\n                         }: { parameters: Parameters, onChange: (newParams: Parameters) => void, }) => (\n    <div>\n        <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"baseline\", padding: \"0 10px\"}}>\n            <h5 style={{padding: \"0 5px\"}}>Private Upload</h5>\n            <input\n                checked={parameters['ui:options']?.private}\n                type=\"checkbox\"\n                onChange={(ev: React.ChangeEvent<any>) =>\n                    onChange({...parameters, \"ui:options\": {...parameters['ui:options'], private: ev.target.checked}})\n                }\n                className='card-text'\n            />\n            <h5 style={{padding: \"0 5px\"}}>Read only</h5>\n            <input\n                checked={parameters['ui:options']?.readonly}\n                type=\"checkbox\"\n                onChange={(ev: React.ChangeEvent<any>) =>\n                    onChange({...parameters, \"ui:options\": {...parameters['ui:options'], readonly: ev.target.checked}})\n                }\n                className='card-text'\n            />\n        </div>\n        <h5>Default Audio (Link)</h5>\n        <Input\n            value={parameters['ui:options']?.default ?? \"\"}\n            placeholder='Default'\n            type='text'\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], default: ev.target.value}})\n            }\n            className='card-text'\n        />\n    </div>\n);\n\nconst AudioType = {\n    audio: {\n        displayName: \"Audio\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"audio\"\n            },\n        ],\n        possibleOptions: ['private', 'default', 'readonly'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"audio\",\n            \"ui:options\": {private: false, default: \"\"}\n        },\n        type: \"string\",\n        cardBody: CustomAudioField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default AudioType","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    'ui:options': { webhook: string, params: string, searchField: string, responseField: string }\n};\n\ntype CustomFieldProps = { parameters: Parameters, onChange: (newParams: Parameters) => void }\n\nconst CustomAutoCompleteField = ({parameters, onChange}: CustomFieldProps) => (\n    <React.Fragment>\n        <h5>Webhook</h5>\n        <Input\n            value={parameters['ui:options']?.webhook}\n            placeholder='Webhook'\n            type={'text'}\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], webhook: ev.target.value}})\n            }\n            className='card-text'\n        />\n        <br/>\n        <h5>Params</h5>\n        <Input\n            value={parameters['ui:options']?.params}\n            placeholder='Params'\n            type={'text'}\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], params: ev.target.value}})\n            }\n            className='card-text'\n        />\n        <br/>\n        <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n            <div style={{width: '100%', paddingRight: 7}}>\n                <h5>Search Field</h5>\n                <Input\n                    value={parameters['ui:options']?.searchField}\n                    placeholder='Search Field'\n                    type={'text'}\n                    onChange={(ev: React.ChangeEvent<any>) =>\n                        onChange({...parameters, \"ui:options\": {...parameters['ui:options'], searchField: ev.target.value}})\n                    }\n                    className='card-text'\n                />\n            </div>\n            <div style={{width: '100%', paddingLeft: 7}}>\n                <h5>Response Field</h5>\n                <Input\n                    value={parameters['ui:options']?.responseField}\n                    placeholder='Response Field'\n                    type={'text'}\n                    onChange={(ev: React.ChangeEvent<any>) =>\n                        onChange({...parameters, \"ui:options\": {...parameters['ui:options'], responseField: ev.target.value}})\n                    }\n                    className='card-text'\n                />\n            </div>\n        </div>\n    </React.Fragment>\n);\n\n\nconst CustomAutoCompleteType = {\n    autocomplete: {\n        displayName: \"AutoComplete\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"autocomplete\"\n            },\n        ],\n        possibleOptions: ['webhook', 'params', 'searchField', 'responseField'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"autocomplete\",\n            \"ui:options\": {webhook: '', params: '', searchField: '', responseField: ''}\n        },\n        type: \"string\",\n        cardBody: CustomAutoCompleteField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default CustomAutoCompleteType","import React from 'react'\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    'ui:options': { private: boolean, multiple: boolean }\n};\n\nconst CustomFileField = ({\n                             parameters,\n                             onChange,\n                         }: { parameters: Parameters, onChange: (newParams: Parameters) => void, }) => (\n    <div style={{display: \"flex\", justifyContent: \"center\", alignItems: \"center\"}}>\n        <div style={{display: \"flex\", alignItems: \"baseline\", padding: \"0 10px\"}}>\n            <h5 style={{padding: \"0 5px\"}}>Private Upload</h5>\n            <input\n                checked={parameters['ui:options']?.private}\n                type=\"checkbox\"\n                onChange={(ev: React.ChangeEvent<any>) =>\n                    onChange({...parameters, \"ui:options\": {...parameters['ui:options'], private: ev.target.checked}})\n                }\n                className='card-text'\n            />\n        </div>\n        <div style={{display: \"flex\", alignItems: \"baseline\", padding: \"0 10px\"}}>\n            <h5 style={{padding: \"0 5px\"}}>Multiple Files</h5>\n            <input\n                checked={parameters['ui:options']?.multiple}\n                type=\"checkbox\"\n                onChange={(ev: React.ChangeEvent<any>) =>\n                    onChange({...parameters, \"ui:options\": {...parameters['ui:options'], multiple: ev.target.checked}})\n                }\n                className='card-text'\n            />\n        </div>\n    </div>\n);\n\nconst CustomFileType = {\n    file: {\n        displayName: \"File\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"customfile\"\n            },\n        ],\n        possibleOptions: ['private', 'multiple'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"customfile\",\n            \"ui:options\": {private: false, multiple: false}\n        },\n        type: \"string\",\n        cardBody: CustomFileField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default CustomFileType","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    default: string\n};\n\ntype CustomFieldProps = { parameters: Parameters, onChange: (newParams: Parameters) => void }\n\nconst CustomLinkField = ({parameters, onChange}: CustomFieldProps) => (\n    <React.Fragment>\n        <h5>Default value</h5>\n        <Input\n            value={parameters.default ?? \"\"}\n            placeholder='Default'\n            type='text'\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, default: ev.target.value})\n            }\n            className='card-text'\n        />\n    </React.Fragment>\n);\n\n\nconst CustomLinkType = {\n    link: {\n        displayName: \"Link\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"customlink\"\n            },\n        ],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"customlink\"\n        },\n        type: \"string\",\n        cardBody: CustomLinkField\n    }\n};\n\nexport default CustomLinkType","const CounterType = {\n    counter: {\n        displayName: \"Counter\",\n        matchIf: [\n            {\n                types: [\"array\"],\n                field: \"counter\"\n            },\n        ],\n        defaultDataSchema: {\n            items: {\n                type: \"string\",\n                format: \"date-time\"\n            }\n        },\n        defaultUiSchema: {\n            \"ui:field\": \"counter\"\n        },\n        type: \"array\",\n    }\n};\n\nexport default CounterType","import React from 'react';\nimport { Input } from 'reactstrap';\n\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    minLength: number,\n    maxLength: number,\n    pattern: string,\n    default: string,\n    'ui:autofocus': boolean,\n    'ui:options': { rows: number }\n};\n\n// specify the inputs required for a string type object\nfunction CardLongAnswerParameterInputs({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) {\n    return (\n        <div>\n            <h4>Minimum Length</h4>\n            <Input\n                value={parameters.minLength ? parameters.minLength : ''}\n                placeholder='Minimum Length'\n                key='minLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        minLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>Maximum Length</h4>\n            <Input\n                value={parameters.maxLength ? parameters.maxLength : ''}\n                placeholder='Maximum Length'\n                key='maxLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        maxLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>Rows</h4>\n            <Input\n                value={parameters[\"ui:options\"]?.rows ?? 0}\n                placeholder='Rows'\n                key='rows'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        \"ui:options\": {rows: parseInt(ev.target.value, 10)},\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>\n                Regular Expression Pattern{' '}\n                <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions' />\n            </h4>\n            <Input\n                value={parameters.pattern ? parameters.pattern : ''}\n                placeholder='Regular Expression Pattern'\n                key='pattern'\n                type='text'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        pattern: ev.target.value,\n                    });\n                }}\n                className='card-modal-text'\n            />\n            <div className='card-modal-boolean'>\n                <p>Auto Focus</p>\n                <input\n                    type={\"checkbox\"}\n                    onChange={() => {\n                        onChange({\n                            ...parameters,\n                            'ui:autofocus': parameters['ui:autofocus']\n                                ? parameters['ui:autofocus'] !== true\n                                : true,\n                        });\n                    }}\n                    checked={\n                        parameters['ui:autofocus']\n                            ? parameters['ui:autofocus'] === true\n                            : false\n                    }\n                />\n            </div>\n        </div>\n    );\n}\n\nfunction LongAnswer({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) {\n    return (\n        <React.Fragment>\n            <h5>Default value</h5>\n            <Input\n                value={parameters.default}\n                placeholder='Default'\n                type='textarea'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) =>\n                    onChange({ ...parameters, default: ev.target.value })\n                }\n                className='card-textarea'\n            />\n        </React.Fragment>\n    );\n}\n\nconst longAnswerInput = {\n    longAnswer: {\n        displayName: 'Long Answer',\n        matchIf: [\n            {\n                types: ['string'],\n                widget: 'textarea',\n            },\n        ],\n        possibleOptions: ['rows'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            'ui:widget': 'textarea',\n        },\n        type: 'string',\n        cardBody: LongAnswer,\n        modalBody: CardLongAnswerParameterInputs,\n    },\n};\n\nexport default longAnswerInput;","const CardType = {\n    card: {\n        displayName: \"Card\",\n        matchIf: [\n            {\n                types: [\"object\"],\n                widget: \"card\"\n            },\n        ],\n        defaultDataSchema: {\n            subtype: \"card\"\n        },\n        defaultUiSchema: {},\n        type: \"object\",\n    }\n};\n\nexport default CardType","const ReaderType = {\n    reader: {\n        displayName: \"Reader\",\n        matchIf: [\n            {\n                types: [\"array\"],\n                widget: \"reader\"\n            },\n        ],\n        defaultDataSchema: {\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"word\": { \"default\": \"Some word\", \"type\": \"string\", \"readOnly\": true },\n                    \"translation\": { \"default\": \"- \", \"type\": \"string\", \"readOnly\": true },\n                    \"count\": {\n                        \"title\": \"- \",\n                        \"default\": 0,\n                        \"type\": \"integer\",\n                        \"readOnly\": true\n                    },\n                    \"active\": { \"title\": \"\", \"type\": \"boolean\" }\n                }\n            }\n        },\n        defaultUiSchema: {\n            \"ui:widget\": \"reader\"\n        },\n        type: \"array\",\n    }\n};\n\nexport default ReaderType","import React from 'react';\nimport {Editor} from \"@tinymce/tinymce-react\";\nimport \"./Editor.css\"\n\ntype Props = {\n    data: string,\n    onChange: (data: string) => void,\n};\n\nconst TextEditor = (props: Props) => {\n    const {data, onChange} = props;\n\n    const handleChange = (d: string) => {\n        onChange(d);\n    }\n\n    return (\n        <Editor\n            id={\"EditorTinyMCE\"}\n            onEditorChange={(newValue, editor) => handleChange(newValue)}\n            value={data}\n            tinymceScriptSrc={process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'}\n            init={{\n                plugins: 'autosave save print preview paste importcss searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help charmap emoticons autoresize',\n                menubar: 'file edit view insert format tools table help',\n                toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media link anchor codesample | ltr rtl',\n                toolbar_sticky: true,\n                relative_urls: false,\n                remove_script_host : false,\n                image_advtab: true,\n                importcss_append: true,\n                image_caption: true,\n                noneditable_noneditable_class: 'mceNonEditable',\n                toolbar_mode: 'sliding',\n                contextmenu: 'link image imagetools table',\n                autosave_prefix: 'tinymce-autosave-{path}{query}-',\n                content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\n            }}\n        />\n    );\n};\n\nexport default TextEditor","import React from 'react';\nimport { Input } from 'reactstrap';\nimport TextEditor from '../../text-editor/TextEditor';\n\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    minLength: number,\n    maxLength: number,\n    pattern: string,\n    default: string,\n    'ui:options': { readonly: boolean }\n};\n\nfunction RichTextInput({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) {\n    return (\n        <React.Fragment>\n            <h5>Read only</h5>\n            <Input type='checkbox' checked={parameters[\"ui:options\"]?.readonly ?? false} onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        \"ui:options\": {readonly: ev.target.checked},\n                    });\n                }}/>\n            <h5>Default value</h5>\n            <TextEditor data={parameters.default} onChange={(data: string) =>\n                onChange({ ...parameters, default: data })\n            } />\n        </React.Fragment>\n    );\n}\n\nconst RichText = {\n    editor: {\n        displayName: 'Editor',\n        matchIf: [\n            {\n                types: ['string'],\n                widget: 'editor',\n            },\n        ],\n        possibleOptions: ['readonly'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            'ui:widget': 'editor',\n        },\n        type: 'string',\n        cardBody: RichTextInput,\n    },\n};\n\nexport default RichText;","// @flow\n\nimport React from 'react';\nimport { Input } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nconst useStyles = createUseStyles({\n    cardEnumOption: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        marginBottom: '.5em',\n        '& input': { width: '80%', marginRight: '1em', marginBottom: 0 },\n        '& .delete-button': {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n        },\n    },\n});\n\n// Input field corresponding to an array of values, add and remove\nexport default function CardEnumOptions({\n    initialValues,\n    onChange,\n    label = 'Examples',\n}: {\n    initialValues: Array<any>,\n    onChange: (newEnums: Array<any>) => void,\n    label?: string,\n}) {\n    const classes = useStyles();\n\n    const possibleValues = [];\n    for (let index = 0; index < initialValues.length; index += 1) {\n        const value = initialValues[index];\n        possibleValues.push(\n            <div key={index} className={classes.cardEnumOption}>\n                <Input\n                    value={value === undefined || value === null ? '' : value}\n                    placeholder='Value'\n                    key={`val-${index}`}\n                    type={'text'}\n                    onChange={(ev: any) => {\n                        let newVal = ev.target.value;\n                        onChange(\n                            [\n                                ...initialValues.slice(0, index),\n                                newVal,\n                                ...initialValues.slice(index + 1),\n                            ],\n                        );\n                    }}\n                    className='card-text'\n                />\n                <div className='delete-button'>\n                    <FontAwesomeIcon\n                        icon={faTimes}\n                        onClick={() => {\n                            // remove this value\n                            onChange(\n                                [\n                                    ...initialValues.slice(0, index),\n                                    ...initialValues.slice(index + 1),\n                                ],\n                            );\n                        }}\n                    />\n                </div>\n            </div>,\n        );\n    }\n\n    return (\n        <React.Fragment>\n            <h5>{label}</h5>\n            {possibleValues}\n            <div style={{\"display\": \"flex\", padding: 4}}>\n            <FontAwesomeIcon\n                icon={faPlus}\n                onClick={() => {\n                    // add a new dropdown option\n                    onChange(\n                        [...initialValues, ''],\n                    );\n                }}\n            />\n            </div>\n        </React.Fragment>\n    );\n}\n\n// Input field corresponding to an array of values, add and remove\nexport function CardEnumOptionsWithNames({\n    initialValues,\n    names,\n    onChange,\n    label = 'Examples',\n}: {\n    initialValues: Array<any>,\n    onChange: (newEnums: Array<any>, newNames: Array<string>) => void,\n    label?: string,\n    names: string[],\n}) {\n    const classes = useStyles();\n\n    const possibleValues = [];\n    for (let index = 0; index < initialValues.length; index += 1) {\n        const value = initialValues[index];\n        const name = names[index];\n        possibleValues.push(\n            <div key={index} className={classes.cardEnumOption}>\n                <Input\n                    value={value === undefined || value === null ? '' : value}\n                    placeholder='Value'\n                    key={`val-${index}`}\n                    type={'text'}\n                    onChange={(ev: any) => {\n                        let newVal = ev.target.value;\n                        onChange(\n                            [\n                                ...initialValues.slice(0, index),\n                                newVal,\n                                ...initialValues.slice(index + 1),\n                            ],\n                            names\n                        );\n                    }}\n                    className='card-text'\n                />\n                <Input\n                    value={name || ''}\n                    placeholder='Label'\n                    key={`name-${index}`}\n                    type='text'\n                    onChange={(ev: any) => {\n                        if (names)\n                        onChange(initialValues, [\n                            ...names.slice(0, index),\n                            ev.target.value,\n                            ...names.slice(index + 1),\n                        ]);\n                    }}\n                    className='card-text'\n                    style={{ display: 'initial'}}\n                    />\n                <div className='delete-button'>\n                    <FontAwesomeIcon\n                        icon={faTimes}\n                        onClick={() => {\n                            // remove this value\n                            onChange(\n                                [\n                                    ...initialValues.slice(0, index),\n                                    ...initialValues.slice(index + 1),\n                                ],\n                                [\n                                    ...names.slice(0, index),\n                                    ...names.slice(index + 1),\n                                ],\n                            );\n                        }}\n                    />\n                </div>\n            </div>,\n        );\n    }\n\n    return (\n        <React.Fragment>\n            <h5>{label}</h5>\n            {possibleValues}\n            <div style={{\"display\": \"flex\", padding: 4}}>\n            <FontAwesomeIcon\n                icon={faPlus}\n                onClick={() => {\n                    // add a new dropdown option\n                    onChange(\n                        [...initialValues, ''], [...names, ''],\n                    );\n                }}\n            />\n            </div>\n        </React.Fragment>\n    );\n}","import React from 'react';\nimport { Input } from 'reactstrap';\nimport CardEnumOptions from './CardEnumOptions';\n\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    minLength: number,\n    maxLength: number,\n    pattern: string,\n    default: string,\n    examples?: string[],\n    'ui:autofocus': boolean,\n};\n\n// specify the inputs required for a string type object\nconst CardShortAnswerParameterInputs = ({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) => {\n    return (\n        <div>\n            <h4>Minimum Length</h4>\n            <Input\n                value={parameters.minLength ? parameters.minLength : ''}\n                placeholder='Minimum Length'\n                key='minLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        minLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>Maximum Length</h4>\n            <Input\n                value={parameters.maxLength ? parameters.maxLength : ''}\n                placeholder='Maximum Length'\n                key='maxLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        maxLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>\n                Regular Expression Pattern{' '}\n                <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions' />\n            </h4>\n            <Input\n                value={parameters.pattern ? parameters.pattern : ''}\n                placeholder='Regular Expression Pattern'\n                key='pattern'\n                type='text'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        pattern: ev.target.value,\n                    });\n                }}\n                className='card-modal-text'\n            />\n            <div className='card-modal-boolean'>\n                <p>Auto Focus</p>\n                <input\n                    type={\"checkbox\"}\n                    onChange={() => {\n                        onChange({\n                            ...parameters,\n                            'ui:autofocus': parameters['ui:autofocus']\n                                ? parameters['ui:autofocus'] !== true\n                                : true,\n                        });\n                    }}\n                    checked={\n                        parameters['ui:autofocus']\n                            ? parameters['ui:autofocus'] === true\n                            : false\n                    }\n                />\n            </div>\n        </div>\n    );\n}\n\nconst ShortAnswer = ({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) => {\n    const enumArray = Array.isArray(parameters.examples) ? parameters.examples : [];\n    const value = parameters.default;\n    return (\n        <React.Fragment>\n            <h5>Default value</h5>\n            <Input\n                value={value === undefined || value === null ? '' : value}\n                placeholder='Default'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) =>\n                    onChange({ ...parameters, default: ev.target.value })\n                }\n                className='card-text'\n            />\n            <br />\n            <CardEnumOptions\n                initialValues={enumArray}\n                onChange={(newEnum: Array<string>) =>\n                    onChange({\n                        ...parameters,\n                        examples: newEnum.length === 0 ? undefined : newEnum,\n                    })\n                }\n            />\n        </React.Fragment>\n    );\n}\n\nconst shortAnswerInput = {\n    shortAnswer: {\n        displayName: 'Short Answer',\n        matchIf: [\n            {\n                types: ['string'],\n            },\n        ],\n        possibleOptions: [],\n        defaultDataSchema: {},\n        type: 'string',\n        cardBody: ShortAnswer,\n        modalBody: CardShortAnswerParameterInputs,\n    },\n};\n\nexport default shortAnswerInput;","import React from 'react';\nimport { Input } from 'reactstrap';\nimport CardEnumOptions from './CardEnumOptions';\n\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    minLength: number,\n    maxLength: number,\n    pattern: string,\n    default: string,\n    enum: string[],\n    'ui:autofocus': boolean,\n};\n\n// specify the inputs required for a string type object\nfunction SimpleAutoCompleteParameterInputs({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) {\n    return (\n        <div>\n            <h4>Minimum Length</h4>\n            <Input\n                value={parameters.minLength ? parameters.minLength : ''}\n                placeholder='Minimum Length'\n                key='minLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        minLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>Maximum Length</h4>\n            <Input\n                value={parameters.maxLength ? parameters.maxLength : ''}\n                placeholder='Maximum Length'\n                key='maxLength'\n                type='number'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        maxLength: parseInt(ev.target.value, 10),\n                    });\n                }}\n                className='card-modal-number'\n            />\n            <h4>\n                Regular Expression Pattern{' '}\n                <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions' />\n            </h4>\n            <Input\n                value={parameters.pattern ? parameters.pattern : ''}\n                placeholder='Regular Expression Pattern'\n                key='pattern'\n                type='text'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) => {\n                    onChange({\n                        ...parameters,\n                        pattern: ev.target.value,\n                    });\n                }}\n                className='card-modal-text'\n            />\n            <div className='card-modal-boolean'>\n                <p>Auto Focus</p>\n                <input\n                    type={\"checkbox\"}\n                    onChange={() => {\n                        onChange({\n                            ...parameters,\n                            'ui:autofocus': parameters['ui:autofocus']\n                                ? parameters['ui:autofocus'] !== true\n                                : true,\n                        });\n                    }}\n                    checked={\n                        parameters['ui:autofocus']\n                            ? parameters['ui:autofocus'] === true\n                            : false\n                    }\n                />\n            </div>\n        </div>\n    );\n}\n\nconst SimpleAutoComplete = ({\n    parameters,\n    onChange,\n}: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n}) => {\n    const enumArray = Array.isArray(parameters.enum) ? parameters.enum : [];\n    const value = parameters.default;\n    return (\n        <React.Fragment>\n            <h5>Default value</h5>\n            <Input\n                value={value === undefined || value === null ? '' : value}\n                placeholder='Default'\n                onChange={(ev: React.ChangeEvent<HTMLInputElement>) =>\n                    onChange({ ...parameters, default: ev.target.value })\n                }\n                className='card-text'\n            />\n            <br />\n            <CardEnumOptions\n                initialValues={enumArray}\n                onChange={(newEnum: Array<string>) =>\n                    onChange({\n                        ...parameters,\n                        enum: newEnum.length === 0 ? [] : newEnum,\n                    })\n                }\n            />\n        </React.Fragment>\n    );\n}\n\nconst simpleAutoCompleteInput = {\n    simpleAutoComplete: {\n        displayName: 'Simple AutoComplete',\n        matchIf: [\n            {\n                types: ['string'],\n                widget: \"simple_autocomplete\",\n                enum: true\n            },\n        ],\n        possibleOptions: [],\n        defaultDataSchema: {\n            enum: []\n        },\n        defaultUiSchema: {\n            \"ui:widget\": \"simple_autocomplete\"\n        },\n        type: 'string',\n        cardBody: SimpleAutoComplete,\n        modalBody: SimpleAutoCompleteParameterInputs,\n    },\n};\n\nexport default simpleAutoCompleteInput;","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    'ui:options': { label: string }\n};\n\ntype CustomFieldProps = { parameters: Parameters, onChange: (newParams: Parameters) => void }\n\nconst WebhookTriggerField = ({parameters, onChange}: CustomFieldProps) => (\n    <React.Fragment>\n        <h5>Button label</h5>\n        <Input\n            value={parameters['ui:options']?.label}\n            placeholder='Button label'\n            type={'text'}\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], label: ev.target.value}})\n            }\n            className='card-text'\n        />\n    </React.Fragment>\n);\n\n\nconst WebhookTriggerType = {\n    webhook: {\n        displayName: \"Webhook Trigger\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"webhook\"\n            },\n        ],\n        possibleOptions: ['label'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"webhook\",\n            \"ui:options\": {label: ''}\n        },\n        type: \"string\",\n        cardBody: WebhookTriggerField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default WebhookTriggerType","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    'ui:options': { paragraph: string }\n};\n\ntype CustomFieldProps = { parameters: Parameters, onChange: (newParams: Parameters) => void }\n\nconst ParagraphField = ({parameters, onChange}: CustomFieldProps) => (\n    <React.Fragment>\n        <h5>Paragraph</h5>\n        <Input\n            value={parameters['ui:options']?.paragraph}\n            placeholder='Paragraph'\n            type={'text'}\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], paragraph: ev.target.value}})\n            }\n            className='card-text-paragraph'\n        />\n    </React.Fragment>\n);\n\n\nconst ParagraphType = {\n    paragraph: {\n        displayName: \"Paragraph\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"paragraph\"\n            },\n        ],\n        possibleOptions: ['paragraph'],\n        defaultDataSchema: {},\n        defaultUiSchema: {\n            \"ui:widget\": \"paragraph\",\n            \"ui:options\": {paragraph: ''}\n        },\n        type: \"string\",\n        cardBody: ParagraphField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default ParagraphType","import React from 'react'\n// @ts-ignore\nimport {Input} from 'reactstrap';\nimport CardEnumOptions, { CardEnumOptionsWithNames } from './CardEnumOptions';\n\ntype Parameters = {\n    name: string,\n    path: string,\n    definitionData: any,\n    definitionUi: any,\n    category: string,\n    default: string,\n    enum: string[] | undefined,\n    enumNames: string[] | undefined,\n    'ui:options': { images: string[] | undefined, text: string }\n};\n\ntype CustomFieldProps = { parameters: Parameters, onChange: (newParams: Parameters) => void }\n\nconst ImageField = ({parameters, onChange}: CustomFieldProps) => { \n    const enumArray = Array.isArray(parameters.enum) ? parameters.enum : [];\n    const imageArray = Array.isArray(parameters['ui:options']?.images) ? parameters['ui:options']?.images : [];\n    const names = Array.isArray(parameters.enumNames) ? parameters.enumNames : [];\n\n    return (\n    <React.Fragment>\n        <h5>Text</h5>\n        <Input\n            value={parameters['ui:options']?.text}\n            placeholder='Text'\n            type={'text'}\n            onChange={(ev: React.ChangeEvent<any>) =>\n                onChange({...parameters, \"ui:options\": {...parameters['ui:options'], text: ev.target.value}})\n            }\n            className='card-text'\n        />\n        <br />\n        <CardEnumOptions\n            label='Images'\n            initialValues={imageArray}\n            onChange={(newEnum: Array<string>) =>\n                onChange({\n                    ...parameters,\n                    \"ui:options\": {...parameters['ui:options'], images: newEnum.length === 0 ? undefined : newEnum}\n                })\n            }\n        />\n        <br />\n        <CardEnumOptionsWithNames\n            initialValues={enumArray}\n            names={names}\n            onChange={(newEnum: Array<string>, newNames: Array<string>) =>\n                onChange({\n                    ...parameters,\n                    enum: newEnum.length === 0 ? undefined : newEnum,\n                    enumNames: newNames.length === 0 ? undefined : newNames,\n                })\n            }\n        />\n    </React.Fragment>\n)};\n\n\nconst ImageType = {\n    image: {\n        displayName: \"Image\",\n        matchIf: [\n            {\n                types: [\"string\"],\n                widget: \"image\",\n                enum: true,\n                enumNames: true\n            },\n        ],\n        possibleOptions: ['images', \"text\"],\n        defaultDataSchema: {\n            enum: [],\n            enumNames: [],\n        },\n        defaultUiSchema: {\n            \"ui:widget\": \"image\",\n            \"ui:options\": {\"images\": [], \"text\": \"\"}\n        },\n        type: \"string\",\n        cardBody: ImageField,\n        // modalBody: (parameters: any, onChange: any) => <div>\n        //     Extra editing options in modal appear hear\n        // </div>,\n    }\n};\n\nexport default ImageType","import AudioType from \"./AudioType\";\nimport AutoCompleteType from \"./AutoCompleteType\";\nimport CustomFileType from \"./CustomFileType\";\nimport CustomLinkType from \"./CustomLinkType\";\nimport CounterType from \"./CounterType\"\nimport CustomLongAnswerType from './CustomLongAnswerType'\nimport CardType from \"./CardType\";\nimport ReaderType from \"./ReaderType\";\nimport RichText from \"./RichTextType\";\nimport ShortAnswerInput from \"./CustomShortAnswerType\";\nimport SimpleAutoCompleteInput from \"./SimpleAutoComplete\";\nimport WebhookTriggerType from \"./WebhookTrigger\";\nimport ParagraphType from \"./ParagraphType\";\nimport ImageType from \"./ImageType\";\n\nexport {\n    AudioType,\n    AutoCompleteType,\n    CustomFileType,\n    CustomLinkType,\n    CounterType,\n    CustomLongAnswerType,\n    CardType,\n    ReaderType,\n    RichText,\n    ShortAnswerInput,\n    SimpleAutoCompleteInput,\n    WebhookTriggerType,\n    ParagraphType,\n    ImageType,\n}\n\nexport default {\n    ...AudioType,\n    ...AutoCompleteType,\n    ...CustomFileType,\n    ...CustomLinkType,\n    ...CounterType,\n    ...CustomLongAnswerType,\n    ...CardType,\n    ...ReaderType,\n    ...RichText,\n    ...ShortAnswerInput,\n    ...SimpleAutoCompleteInput,\n    ...WebhookTriggerType,\n    ...ParagraphType,\n    ...ImageType,\n}","import React from 'react';\nimport Types from \"./custom-fields\";\n// @ts-ignore\nimport {FormBuilder as DefaultFormBuilder} from '@ginkgo-bioworks/react-json-schema-form-builder';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\ntype Props = {\n    schema: string,\n    uiSchema: string,\n    onChange: (schema: string, ui: string) => void\n};\n\nconst FormBuilder = (props: Props) => {\n    const {schema, uiSchema, onChange} = props;\n\n    const customFormInputs = Types;\n\n    const handleChange = (schema: string, ui: string) => {\n        onChange(schema, ui)\n    }\n\n    return (\n        <DefaultFormBuilder\n            schema={schema}\n            uischema={uiSchema}\n            onChange={handleChange}\n            mods={{customFormInputs}}\n        />\n    );\n};\n\nexport default FormBuilder","import React from 'react';\nimport Box, {BoxProps} from \"@mui/material/Box\";\nimport {styled} from \"@mui/material/styles\";\n\nconst BuilderLayout = styled(Box)<BoxProps>(() => ({\n    width: '70%',\n    minWidth: '400px',\n    margin: '0 auto'\n}));\n\nexport default BuilderLayout","import React from 'react';\nimport Form from \"../../../../components/form/Form\"\nimport StageOptionsSchema from '../StageOptionsSchema.json'\nimport {Box} from \"@mui/material\";\nimport FormBuilder from \"../../../../components/form-builder/FormBuilder\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\n\ntype Props = {\n    schema: string,\n    uiSchema: string,\n    formData: any,\n    onSchemaChange: (schema: string, ui: string) => void,\n    onFormDataChange: (formData: any) => void\n};\n\nconst Builder = (props: Props) => {\n    const {\n        schema,\n        uiSchema,\n        formData,\n        onSchemaChange,\n        onFormDataChange\n    } = props;\n\n    const optionsSchema: any = {...StageOptionsSchema};\n    // const inStages = formData[\"in_stages\"];\n    // if (inStages) {\n    //     optionsSchema[\"properties\"][\"displayed_prev_stages\"][\"items\"][\"enum\"] = inStages;\n    //     optionsSchema[\"properties\"][\"displayed_prev_stages\"][\"description\"] = \"\";\n    // } else {\n    //     optionsSchema[\"properties\"][\"displayed_prev_stages\"][\"description\"] = \"  .\";\n    // }\n\n\n    return (\n        <Box p={1}>\n                <FormBuilder\n                    schema={schema}\n                    uiSchema={uiSchema}\n                    onChange={onSchemaChange}\n                />\n            <BuilderLayout>\n                <Form\n                    schema={optionsSchema}\n                    uiSchema={{\n                        displayed_prev_stages: {\n                            \"ui:widget\": \"checkboxes\"\n                        }\n                    }}\n                    formData={formData}\n                    onChange={onFormDataChange}\n                    hideButton={true}\n                />\n            </BuilderLayout>\n        </Box>\n    );\n};\n\nexport default Builder","import React from 'react';\nimport {Box} from \"@mui/material\";\nimport TextViewer from \"../../../../components/text-editor/TextViewer\";\nimport Form from \"../../../../components/form/Form\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\n\ntype Props = {\n    schema: object,\n    uiSchema: object,\n    text?: string\n};\n\nconst Preview = (props: Props) => {\n    const {schema, uiSchema, text} = props;\n    return (\n        <BuilderLayout>\n            {text && <TextViewer id={\"TextViewer\"} data={text}/>}\n            <Box py={1}>\n                <Form schema={schema} uiSchema={uiSchema}/>\n            </Box>\n        </BuilderLayout>\n    );\n};\n\nexport default Preview","import React from 'react';\nimport {Box, Button, FormControlLabel, FormGroup, Grid, Switch, TextField} from \"@mui/material\";\n\ntype Props = {\n    isEditable: boolean,\n    schema: string,\n    ui: string,\n    onSchemaChange: (schema: string) => void,\n    onUiChange: (ui: string) => void,\n    onIsEditableChange: () => void,\n    onSave: () => void,\n    onUndo: () => void,\n};\n\nconst SchemaEditor = (props: Props) => {\n    const {isEditable, schema, ui, onSchemaChange, onUiChange, onIsEditableChange, onSave, onUndo} = props;\n\n    let prettySchema = schema, prettyUi = ui;\n    try {\n        const parsedSchema = JSON.parse(schema);\n        prettySchema = JSON.stringify(parsedSchema, null, 2);\n\n        const parsedUi = JSON.parse(ui);\n        prettyUi = JSON.stringify(parsedUi, null, 2);\n    } catch (e) {\n        console.log(e)\n    }\n\n    const handleIsEditableChange = () => {\n        onIsEditableChange();\n    }\n\n    const handleSchemaChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        onSchemaChange(event.target.value);\n    }\n\n    const handleUiChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        onUiChange(event.target.value);\n    }\n\n    const handleSave = () => {\n        onSave();\n    }\n\n    const handleUndo = () => {\n        onUndo();\n    }\n\n    return (\n        <Box>\n            <Grid container alignItems={\"center\"}>\n                <FormGroup sx={{my: 1}}>\n                    <FormControlLabel\n                        control={<Switch\n                            checked={isEditable}\n                            onChange={handleIsEditableChange}\n                            name=\"edit\"\n                            inputProps={{'aria-label': 'edit'}}\n                        />}\n                        labelPlacement=\"start\"\n                        label=\"\"/>\n                </FormGroup>\n                {isEditable &&\n                    <Button sx={{m: 1}} color={\"primary\"} variant={\"contained\"} onClick={handleSave}>\n                        </Button>\n                }\n                {isEditable &&\n                    <Button sx={{m: 1}} color={\"primary\"} variant={\"contained\"} onClick={handleUndo}>\n                        </Button>\n                }\n            </Grid>\n            <Grid container>\n                <Grid item xs={12} md={6} p={1}>\n                    <TextField\n                        label=\"Schema\"\n                        multiline\n                        fullWidth\n                        variant=\"outlined\"\n                        InputProps={{\n                            readOnly: !isEditable,\n                        }}\n                        value={prettySchema}\n                        onChange={handleSchemaChange}\n                        style={{marginTop: 15, marginBottom: 15}}\n                    />\n                </Grid>\n                <Grid item xs={12} md={6} p={1}>\n                    <TextField\n                        label=\"Ui\"\n                        multiline\n                        fullWidth\n                        variant=\"outlined\"\n                        InputProps={{\n                            readOnly: !isEditable,\n                        }}\n                        value={prettyUi}\n                        onChange={handleUiChange}\n                        style={{marginTop: 15, marginBottom: 30}}\n                    />\n                </Grid>\n            </Grid>\n        </Box>\n    );\n};\n\nexport default SchemaEditor","import React, {useEffect, useState} from 'react';\nimport useAxios from \"../../../../services/api/useAxios\";\nimport Form from \"../../../../components/form/Form\";\n\ntype Props = {\n    id: number,\n};\n\nconst Plugin = (props: Props) => {\n    const {id} = props;\n    const {getTaskStageOptions} = useAxios();\n\n    const [schema, setSchema] = useState({});\n\n    const getOptions = async () => {\n        const options = await getTaskStageOptions();\n        if (options) {\n            return options.actions.POST;\n        } else {\n            return undefined;\n        }\n    }\n\n    const transformOptionsToForm = (options: any) => {\n        const DEFAULT_FORM_TYPES = [\"string\", \"number\", \"integer\", \"boolean\", \"null\"];\n\n\n        const keys = options ? Object.keys(options) : []\n        const properties: any = {}\n        const required: any[] = []\n\n        keys.forEach(key => {\n            const {type, label, help_text, required: req} = options[key]\n            if (DEFAULT_FORM_TYPES.includes(type)) {\n                properties[key] = {\n                    type: type,\n                    title: label,\n                    description: help_text\n                }\n                if (req) {\n                    required.push(key)\n                }\n            } else if (type === \"decimal\") {\n                properties[key] = {\n                    type: \"number\",\n                    title: label,\n                    description: help_text\n                }\n                if (req) {\n                    required.push(key)\n                }\n            }\n        })\n\n        const template = {\n            type: \"object\",\n            properties: properties,\n            required: required\n        }\n        console.log(template)\n        return template\n    }\n\n    useEffect(() => {\n        const getData = async () => {\n            const options = await getOptions();\n            const schema = transformOptionsToForm(options);\n            setSchema(schema)\n        }\n        if (id) {\n            getData();\n        }\n    }, [id])\n\n    return (\n        <div>\n            <Form schema={schema}/>\n        </div>\n    );\n};\n\nexport default Plugin","import React from 'react';\nimport ExpandableCard from \"../../../../components/card/ExpandableCard\";\nimport Plugin from \"./Plugin\";\nimport {Grid} from \"@mui/material\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\n\n\ntype Props = {};\n\nconst Plugins = (props: Props) => {\n    const {} = props;\n    const pluginsList = [1, 2];\n\n    return (\n        <BuilderLayout>\n            <Grid container py={2} spacing={2}>\n                {pluginsList.map((p, index) =>\n                    <Grid item xs={12} key={index}>\n                        <ExpandableCard data={{name: p}} hideOpenButton={true}>\n                            <Plugin id={p}/>\n                        </ExpandableCard>\n                    </Grid>\n                )}\n            </Grid>\n        </BuilderLayout>\n    );\n};\n\nexport default Plugins","import React from 'react';\nimport TextEditor from \"../../../../components/text-editor/TextEditor\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\n\ntype Props = {\n    data: string,\n    onChange: (data: string) => void,\n};\n\nconst Text = (props: Props) => {\n    const {data, onChange} = props;\n    return (\n        <BuilderLayout>\n            <TextEditor data={data} onChange={onChange}/>\n        </BuilderLayout>\n    );\n};\n\nexport default Text","import React, {useEffect, useState} from \"react\";\nimport {Alert as MuiAlert, AlertProps, Snackbar} from \"@mui/material\";\n\ninterface ToastContextType {\n    open: boolean;\n    openToast: (title: string, variant?: ToastVariants) => void;\n    closeToast: (event?: React.SyntheticEvent | Event, reason?: string) => void;\n}\n\ntype ToastVariants = \"success\" | \"error\" | \"warning\" | \"info\";\n\nexport const ToastContext = React.createContext<ToastContextType>(null!);\n\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n    props,\n    ref,\n) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst ToastProvider = ({children}: { children: React.ReactNode }) => {\n    const [open, setOpen] = useState(false);\n    const [title, setTitle] = useState<any>(\"\");\n    const [variant, setVariant] = useState<ToastVariants>(\"error\")\n\n    const stringify = (value: any) => {\n        switch (typeof value) {\n            case 'string':\n                return value;\n            case 'object':\n                return JSON.stringify(value);\n            default:\n                return String(value);\n        }\n    };\n\n    const openToast = (title: string, variant?: ToastVariants) => {\n        if (variant) {\n            setVariant(variant)\n        }\n        setTitle(stringify(title))\n        setOpen(true);\n    };\n\n    const closeToast = (event?: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        setOpen(false);\n    };\n\n    const value = {open, openToast, closeToast};\n\n    return <ToastContext.Provider value={value}>\n        <Snackbar open={open} autoHideDuration={5000} onClose={closeToast}\n                  anchorOrigin={{\n                      vertical: 'top',\n                      horizontal: 'center',\n                  }}\n        >\n            <Alert onClose={closeToast} severity={variant} sx={{width: '100%'}}>\n                {title}\n            </Alert>\n        </Snackbar>\n        {children}\n    </ToastContext.Provider>;\n};\n\nexport default ToastProvider","import React from \"react\";\nimport {ToastContext} from \"../ToastProvider\";\n\nexport const useToast = () => React.useContext(ToastContext);","import type {Blocker, History, Transition} from 'history';\nimport {ContextType, useCallback, useContext, useEffect} from 'react';\nimport {Navigator as BaseNavigator, UNSAFE_NavigationContext as NavigationContext} from 'react-router-dom';\n\ninterface Navigator extends BaseNavigator {\n    block: History['block'];\n}\n\ntype NavigationContextWithBlock = ContextType<typeof NavigationContext> & { navigator: Navigator };\n\n/**\n * @source https://github.com/remix-run/react-router/commit/256cad70d3fd4500b1abcfea66f3ee622fb90874\n */\nexport function useBlocker(blocker: Blocker, when = true) {\n    const {navigator} = useContext(NavigationContext) as NavigationContextWithBlock;\n\n    useEffect(() => {\n        if (!when) {\n            return;\n        }\n\n        const unblock = navigator.block((tx: Transition) => {\n            const autoUnblockingTx = {\n                ...tx,\n                retry() {\n                    unblock();\n                    setTimeout(() => tx.retry(), 100);\n                },\n            };\n\n            blocker(autoUnblockingTx);\n        });\n\n        return unblock;\n    }, [navigator, blocker, when]);\n}\n\n/**\n * @source https://github.com/remix-run/react-router/issues/8139#issuecomment-1021457943\n */\nexport function usePrompt(message: string | ((\n    location: Transition['location'],\n    action: Transition['action'],\n) => string), when = true) {\n    const blocker = useCallback((tx: Transition) => {\n        let response;\n        if (typeof message === 'function') {\n            response = message(tx.location, tx.action);\n            if (typeof response === 'string') {\n                response = window.confirm(response);\n            }\n        } else {\n            response = window.confirm(message);\n        }\n        if (response) {\n            tx.retry();\n        }\n    }, [message]);\n    return useBlocker(blocker, when);\n}","import React from 'react';\nimport Form from \"../../../../components/form/Form\"\nimport StageOptionsSchema from '../StageOptionsSchema.json'\nimport { Box, Button } from \"@mui/material\";\nimport FormBuilder from \"../../../../components/form-builder/FormBuilder\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\n\ntype Props = {\n    schema: string,\n    uiSchema: string,\n    onSchemaChange: (schema: string, ui: string) => void,\n    onUseMainSchema: () => void,\n};\n\nconst CardDataBuilder = (props: Props) => {\n    const {\n        schema,\n        uiSchema,\n        onSchemaChange,\n        onUseMainSchema,\n    } = props;\n\n    return (\n        <Box p={1}>\n            <Box display={\"flex\"} justifyContent={\"center\"}>\n                <Button variant={\"contained\"} onClick={onUseMainSchema}>  </Button>\n            </Box>\n            <FormBuilder\n                schema={schema}\n                uiSchema={uiSchema}\n                onChange={onSchemaChange}\n            />\n        </Box>\n    );\n};\n\nexport default CardDataBuilder","import React, { useCallback, useEffect, useState } from 'react';\nimport useAxios from \"../../../services/api/useAxios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport useHelpers from \"../../../utils/hooks/UseHelpers\";\nimport { ViewModeProps } from \"./StageBuilder.types\";\nimport Controls from \"./controls/Controls\";\nimport Builder from \"./builder/Builder\";\nimport { Box, Button } from \"@mui/material\";\nimport Preview from \"./preview/Preview\";\nimport SchemaEditor from \"./schema-editor/SchemaEditor\";\nimport Plugins from \"./plugins/Plugins\";\nimport BuilderLayout from \"../../../components/layout/common-layouts/BuilderLayout\";\nimport Text from \"./text/Text\";\nimport { useToast } from \"../../../context/toast/hooks/useToast\";\nimport BuildIcon from \"@mui/icons-material/Build\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport CompareArrowsIcon from \"@mui/icons-material/CompareArrows\";\nimport debounce from 'lodash.debounce'\nimport { usePrompt } from '../../../components/prompt/Prompt';\nimport CardDataBuilder from './card-data/CardDataBuilder';\nimport ClosedCaptionIcon from '@mui/icons-material/ClosedCaption';\n\n\nconst StageBuilder = () => {\n    const { stageId } = useParams();\n    const navigate = useNavigate();\n    const { getTaskStage, saveTaskStage } = useAxios();\n    const { parseId } = useHelpers();\n    const parsedId = parseId(stageId);\n    const { openToast } = useToast();\n\n    const DEBOUNCE_SAVE_DELAY_MS = 2000;\n\n    const [schema, setSchema] = useState('');\n    const [uiSchema, setUiSchema] = useState('');\n    const [formData, setFormData] = useState<any>({});\n    const [viewMode, setViewMode] = useState<ViewModeProps>(\"builder\");\n    const [textEditorData, setTextEditorData] = useState(\"\");\n    const [isEditable, setEditable] = useState(false);\n    const [tmpSchema, setTmpSchema] = useState(\"\");\n    const [tmpUi, setTmpUi] = useState(\"\");\n    const [originalSchema, setOriginalSchema] = useState(\"\");\n    const [originalUi, setOriginalUi] = useState(\"\");\n    const [showPrompt, setShowPrompt] = useState(false);\n    const [cardSchema, setCardSchema] = useState('');\n    const [cardUi, setCardUi] = useState('');\n\n    usePrompt(\" ,     ?\", showPrompt);\n\n    const schemaJson = schema ? JSON.parse(schema) : {};\n    const uiJson = uiSchema ? JSON.parse(uiSchema) : {};\n\n    const VIEW_MODES: any = {\n        builder: { title: \"\", icon: <BuildIcon fontSize={\"large\"} /> },\n        card: { title: \"Card Data\", icon: <ClosedCaptionIcon fontSize={\"large\"} /> },\n        // plugins: {title: \"\", icon: <ExtensionIcon fontSize={\"large\"}/>},\n        text: { title: \"\", icon: <EditIcon fontSize={\"large\"} /> },\n        preview: { title: \"\", icon: <VisibilityIcon fontSize={\"large\"} /> },\n        editor: { title: \"\", icon: <CompareArrowsIcon fontSize={\"large\"} /> },\n    }\n\n    useEffect(() => {\n        const getStage = async (parsedId: number) => {\n            const stage = await getTaskStage(parsedId);\n            const {\n                id,\n                json_schema,\n                ui_schema,\n                rich_text,\n                webhook_address,\n                webhook_params,\n                card_json_schema,\n                card_ui_schema,\n                ...options\n            } = stage;\n\n            options[\"webhook_address\"] = webhook_address ? webhook_address : undefined;\n            options[\"webhook_params\"] = webhook_params ? JSON.stringify(webhook_params) : undefined;\n\n            setSchema(json_schema);\n            setUiSchema(ui_schema);\n            setTmpSchema(json_schema);\n            setTmpUi(ui_schema);\n            setOriginalSchema(json_schema);\n            setOriginalUi(ui_schema);\n            setFormData(options);\n            setTextEditorData(rich_text);\n            setCardSchema(card_json_schema);\n            setCardUi(card_ui_schema)\n        }\n\n        if (parsedId) {\n            getStage(parsedId);\n        }\n    }, [parsedId])\n\n    const compileData = useCallback(() => {\n        const { chain, webhook_params, ...responses } = formData;\n        let parsed_webhook_params;\n        try {\n            parsed_webhook_params = JSON.parse(webhook_params);\n        } catch (e) {\n            parsed_webhook_params = null;\n        }\n\n        return {\n            ...responses,\n            json_schema: schema,\n            ui_schema: uiSchema,\n            rich_text: textEditorData,\n            card_json_schema: cardSchema,\n            card_ui_schema: cardUi,\n            webhook_params: parsed_webhook_params\n        };\n    }, [formData, schema, textEditorData, uiSchema, cardSchema, cardUi])\n\n    const saveData = (data: any) => {\n        return saveTaskStage(parsedId, data);\n    }\n\n    const debouncedSave = useCallback(debounce((data) => {\n        saveData(data)\n            .then(() => console.log(\"saved\"))\n            .catch(err => openToast(err.message, \"error\"));\n    }, DEBOUNCE_SAVE_DELAY_MS), [])\n\n    useEffect(() => {\n        // const data = compileData();\n        setShowPrompt(true);\n        // debouncedSave(data);\n    }, [formData, schema, uiSchema, textEditorData, debouncedSave, compileData])\n\n    const handleSubmit = () => {\n        const data = compileData();\n        saveData(data)\n            .then(() => openToast(\" \", \"success\"))\n            .catch(err => openToast(err.message, \"error\"));\n        setShowPrompt(false);\n    }\n\n    const handleSchemaChange = (schema: string, ui: string) => {\n        setSchema(schema);\n        setUiSchema(ui);\n        setOriginalSchema(schema);\n        setOriginalUi(ui);\n        setTmpSchema(schema);\n        setTmpUi(ui);\n    }\n\n    const handleCardDataChange = (schema: string, ui: string) => {\n        setCardSchema(schema);\n        setCardUi(ui);\n    }\n\n    const handleFormDataChange = (formData: object) => {\n        setFormData(formData);\n    }\n\n    const handleTextChange = (d: string) => {\n        setTextEditorData(d);\n    }\n\n    const handleViewModeChange = (mode: ViewModeProps) => {\n        setViewMode(mode);\n    }\n\n    const handleIsEditableChange = () => {\n        setEditable(!isEditable);\n    }\n\n    const handleTmpSchemaChange = (schema: string) => {\n        setTmpSchema(schema);\n    }\n\n    const handleTmpUiChange = (ui: string) => {\n        setTmpUi(ui);\n    }\n\n    const handleTmpSave = () => {\n        setSchema(tmpSchema);\n        setUiSchema(tmpUi);\n    }\n\n    const handleTmpUndo = () => {\n        setSchema(originalSchema);\n        setUiSchema(originalUi);\n        setTmpSchema(originalSchema);\n        setTmpUi(originalUi);\n    }\n\n    const useMainSchemaInCardData = () => {\n        setCardSchema(schema);\n        setCardUi(uiSchema);\n    }\n\n    const renderContent = (mode: ViewModeProps) => {\n        switch (mode) {\n            case \"builder\":\n                return <Builder\n                    schema={schema}\n                    uiSchema={uiSchema}\n                    formData={formData}\n                    onSchemaChange={handleSchemaChange}\n                    onFormDataChange={handleFormDataChange}\n                />;\n            case \"plugins\":\n                return <Plugins />;\n            case \"text\":\n                return <Text data={textEditorData} onChange={handleTextChange} />;\n            case \"preview\":\n                return <Preview schema={schemaJson} uiSchema={uiJson} text={textEditorData} />;\n            case \"editor\":\n                return <SchemaEditor isEditable={isEditable} schema={tmpSchema} ui={tmpUi}\n                    onSchemaChange={handleTmpSchemaChange} onUiChange={handleTmpUiChange}\n                    onIsEditableChange={handleIsEditableChange} onSave={handleTmpSave}\n                    onUndo={handleTmpUndo} />\n            case \"card\":\n                return <CardDataBuilder\n                    schema={cardSchema}\n                    uiSchema={cardUi}\n                    onSchemaChange={handleCardDataChange}\n                    onUseMainSchema={useMainSchemaInCardData}\n                />\n        }\n    }\n\n    const goBack = () => {\n        navigate(-1);\n    }\n\n    return (\n        <Box>\n            <Controls allModes={VIEW_MODES} mode={viewMode} onChange={handleViewModeChange} onBack={goBack} />\n            {renderContent(viewMode)}\n            <BuilderLayout pb={3}>\n                <Button variant={\"contained\"} color={\"warning\"} fullWidth onClick={handleSubmit}></Button>\n            </BuilderLayout>\n        </Box>\n    );\n};\n\nexport default StageBuilder","import React, { useEffect, useState } from 'react';\nimport useAxios from \"../../../services/api/useAxios\";\nimport { useParams } from \"react-router-dom\";\nimport useHelpers from \"../../../utils/hooks/UseHelpers\";\nimport { Box, Checkbox, FormControlLabel } from \"@mui/material\";\nimport Form from \"../../../components/form/Form\";\nimport BuilderLayout from \"../../../components/layout/common-layouts/BuilderLayout\";\nimport { useToast } from \"../../../context/toast/hooks/useToast\";\n\nconst LogicBuilder = () => {\n    const { getConditionalStage, saveConditionalStage, getTaskStage } = useAxios();\n    const { stageId } = useParams();\n    const { parseId, getFormFields } = useHelpers();\n    const parsedId = parseId(stageId);\n    const { openToast } = useToast();\n\n    const [schema, setSchema] = useState({});\n    const [formData, setFormData] = useState({});\n    const [isPingPong, setPingPong] = useState(false);\n    const [connectedStages, setConnectedStages] = useState<any[]>();\n    const [ready, setReady] = useState(false)\n    const [fields, setFields] = useState<string[]>([]);\n\n\n    useEffect(() => {\n        getConditionalStage(parsedId).then(stage => {\n            setFormData(stage.conditions)\n            setPingPong(stage.pingpong)\n        })\n    }, [parsedId])\n\n    useEffect(() => {\n        const getStage = (stageId?: number) => {\n            if (stageId) {\n                const taskStage = getTaskStage(stageId);\n                if (taskStage) {\n                    return taskStage\n                } else {\n                    return getConditionalStage(stageId)\n                }\n            }\n            return getConditionalStage(parsedId)\n        }\n\n        const getConnectedStages = (ids: number[]) => {\n            return ids.map(async connId => {\n                let stage = await getStage(connId)\n                return { [connId]: stage }\n            })\n        }\n\n        const getData = async () => {\n            const currentStage = await getStage();\n\n            let connectedIds;\n            if (isPingPong) {\n                connectedIds = currentStage.out_stages;\n            } else {\n                connectedIds = currentStage.in_stages;\n            }\n            if (connectedIds) {\n                const connStages = await Promise.all(getConnectedStages(connectedIds));\n                if (Object.keys(connStages).length > 0) {\n                    setConnectedStages(connStages)\n                    setReady(true)\n                }\n            }\n        }\n\n        if (parsedId) {\n            getData()\n        }\n\n    }, [parsedId, isPingPong])\n\n    useEffect(() => {\n        const getDependentFields = (dep: any) => {\n            let data = null\n            if (dep.hasOwnProperty(\"oneOf\")) {\n                data = dep.oneOf\n            }\n            if (dep.hasOwnProperty(\"allOf\")) {\n                data = dep.allOf\n            }\n            if (data) {\n                return data.map((nested: any) => {\n                    // Create tmp schema for function to work\n                    const fictionalSchema = { type: \"object\", ...nested };\n                    return getFormFields(fictionalSchema)\n                }).flat()\n            }\n            return []\n        }\n\n        if (connectedStages && connectedStages.length > 0) {\n            const allFields = connectedStages.map(stageObject => {\n                let stage = Object.values(stageObject)[0] as any;\n                let stageSchema = stage.json_schema ? JSON.parse(stage.json_schema) : {};\n\n                // Get dependencies from stage's schema\n                let dependencies = {};\n                if (stageSchema && stageSchema.dependencies && Object.keys(stageSchema.dependencies).length > 0) {\n                    dependencies = stageSchema.dependencies\n                }\n\n                // Return fields from schema's properties and dependencies\n                const dependenciesValues = Object.values(dependencies);\n                const formFields = getFormFields(stageSchema);\n                let depFields = [];\n                if (dependenciesValues.length > 0) {\n                    depFields = dependenciesValues.map((dep: any) => getDependentFields(dep)).flat()\n                }\n                return Array.from(new Set([...formFields, ...depFields]))\n            }).flat()\n\n            setFields(allFields)\n        }\n    }, [connectedStages])\n\n    useEffect(() => {\n        console.log(\"fields\", fields)\n        setSchema({\n            items: {\n                type: 'object',\n                title: 'Logic',\n                properties: {\n                    field: {\n                        enum: fields,\n                        title: 'Field',\n                        type: 'string'\n                    },\n                    condition: {\n                        enum: [\n                            '==',\n                            '!=',\n                            '>',\n                            '<',\n                            '>=',\n                            '<=',\n                            'ARRAY-CONTAINS',\n                            'ARRAY-CONTAINS-NOT'\n                        ],\n                        title: 'Condition',\n                        type: 'string'\n                    },\n                    value: {\n                        title: 'Value',\n                        type: 'string'\n                    },\n                    type: {\n                        title: 'Type',\n                        enum: [\n                            \"boolean\",\n                            \"number\",\n                            \"integer\",\n                            \"string\",\n                        ],\n                        type: 'string'\n                    }\n                },\n                dependencies: {},\n                required: []\n            },\n            title: 'Logic Array',\n            type: 'array',\n            dependencies: {},\n            required: []\n        })\n    }, [fields])\n\n    const handleSubmit = () => {\n        let data = { conditions: formData, pingpong: isPingPong }\n\n        saveConditionalStage(parsedId, data)\n            .then((res: any) => openToast(\" \", \"success\"));\n    }\n\n    const handleChangePingPong = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setPingPong(event.target.checked);\n    }\n\n    if (!ready) {\n        return <p>No node connection or end_ui detected. Connect to one or check if form has fields.</p>\n    }\n\n    return (\n        <BuilderLayout pb={3}>\n            <FormControlLabel\n                control={<Checkbox checked={isPingPong} onChange={handleChangePingPong} name=\"PingPong\"\n                    color=\"primary\" />}\n                label=\"Ping Pong\"\n            />\n            <Form\n                schema={schema}\n                formData={formData}\n                onChange={(formData) => setFormData(formData)}\n                onSubmit={handleSubmit} />\n        </BuilderLayout>\n    );\n};\n\nexport default LogicBuilder","import React from 'react';\nimport Form from \"../../../components/form/Form\";\nimport schema from './CreateChainSchema.json';\nimport ui from './CreateChainSchemaUi.json';\nimport BuilderLayout from \"../../../components/layout/common-layouts/BuilderLayout\";\nimport useAxios from \"../../../services/api/useAxios\";\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport useHelpers from \"../../../utils/hooks/UseHelpers\";\n\n\nconst CreateChain = () => {\n    const {createChain} = useAxios();\n    const navigate = useNavigate();\n    const location: any = useLocation();\n    const {campaignId} = useParams();\n    const {parseId} = useHelpers();\n\n\n    const parsedId = parseId(campaignId);\n    const from = location?.state?.from?.pathname || \"/\";\n\n    const handleSubmit = (formData: any) => {\n        console.log(formData)\n        if (campaignId) {\n            createChain({campaign: parsedId, ...formData})\n                .then(() => {\n                    navigate(from)\n                })\n        } else {\n            alert(\"Error: No campaign id\")\n        }\n    }\n\n    return (\n        <BuilderLayout py={2}>\n            <Form schema={schema} uiSchema={ui} onSubmit={handleSubmit}/>\n        </BuilderLayout>\n    );\n};\n\nexport default CreateChain","import React, {useEffect, useState} from 'react';\nimport useAxios from \"../../services/api/useAxios\";\nimport {useParams} from \"react-router-dom\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport Form from \"../../components/form/Form\";\nimport {Box} from \"@mui/material\";\nimport {useToast} from \"../../context/toast/hooks/useToast\";\n\n\nconst ResponseFlattener = () => {\n    const {getResponseFlattener, saveResponseFlattener} = useAxios();\n    const {openToast} = useToast()\n    const {id} = useParams();\n    const {parseId} = useHelpers();\n\n    const [data, setData] = useState();\n\n    const parsedId = parseId(id);\n\n    useEffect(() => {\n        getResponseFlattener(parsedId).then(res => {\n            console.log(res)\n            const {task_stage, ...rest} = res;\n            const parsedData = {task_stage: task_stage.id, ...rest};\n            setData(parsedData);\n        });\n    }, [parsedId])\n\n    const schema = {\n        \"title\": \"Response Flattener\",\n        \"type\": \"object\",\n        \"required\": [\n            \"task_stage\"\n        ],\n        \"properties\": {\n            \"task_stage\": {\n                \"type\": \"integer\",\n                \"title\": \"Task stage\"\n            },\n            \"copy_first_level\": {\n                \"type\": \"boolean\",\n                \"title\": \"Copy first level\"\n            },\n            \"flatten_all\": {\n                \"type\": \"boolean\",\n                \"title\": \"Flatten all\"\n            },\n            \"copy_system_fields\": {\n                \"type\": \"boolean\",\n                \"title\": \"Copy system fields\"\n            },\n            \"exclude_list\": {\n                \"type\": \"array\",\n                \"title\": \"Exclude list\",\n                \"items\": {\n                    \"type\": \"string\"\n                }\n            },\n            \"columns\": {\n                \"type\": \"array\",\n                \"title\": \"Columns\",\n                \"items\": {\n                    \"type\": \"string\"\n                }\n            }\n        }\n    }\n\n    const ui = {\n        \"exclude_list\": {\n            \"ui:widget\": \"textarea\"\n        },\n        \"columns\": {\n            \"ui:widget\": \"textarea\"\n        }\n    }\n\n    const handleChange = (formData: any) => {\n        console.log(formData)\n        setData(formData)\n    }\n\n    const handleSubmit = () => {\n        saveResponseFlattener(parsedId, data).then(() => openToast(\"Saved\", \"success\"));\n    }\n\n    return (\n        <Box p={2}>\n            <Form schema={schema} uiSchema={ui} formData={data} onChange={handleChange} onSubmit={handleSubmit}/>\n        </Box>\n    );\n};\n\nexport default ResponseFlattener","import React from 'react';\nimport {Button, IconButton, Stack} from \"@mui/material\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport {baseUrl, tasksUrl} from \"../../services/api/Urls\";\n\ntype Props = {\n    id: number,\n    stage: any,\n    onDownloadClick: (id: number, stage: number) => void,\n    onSettingsClick: (id: number) => void\n};\n\nconst ResponseFlattenerCard = (props: Props) => {\n    const {id, stage, onDownloadClick, onSettingsClick} = props;\n\n    const handleDownloadClick = () => {\n        onDownloadClick(stage.id, id);\n    }\n\n    const handleSettingsClick = () => {\n        onSettingsClick(id);\n    }\n\n    console.log(id, stage)\n\n    return (\n        <Card sx={{width: '100%'}}>\n            <CardHeader\n                action={\n                    <Stack direction=\"row\" spacing={1}>\n                        <IconButton onClick={handleSettingsClick}><SettingsIcon/></IconButton>\n                        <Button key={\"open_button\"} variant={\"contained\"} onClick={handleDownloadClick}></Button>\n                    </Stack>\n                }\n                title={`Stage: ${stage.name}`}\n                subheader={`ID: ${id}`}\n                titleTypographyProps={{variant: \"h6\"}}\n                subheaderTypographyProps={{variant: \"caption\"}}\n            />\n        </Card>\n    );\n};\n\nexport default ResponseFlattenerCard","import React, {useEffect, useState} from 'react';\nimport useAxios from \"../../services/api/useAxios\";\nimport {Box, Button, Grid} from \"@mui/material\";\nimport ResponseFlattenerCard from \"../../components/card/ResponseFlattenerCard\";\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport {useToast} from \"../../context/toast/hooks/useToast\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\n\n\nconst FlattenerList = () => {\n    const {getResponseFlattenerList, downloadFlattenedResponses} = useAxios();\n    const navigate = useNavigate();\n    const {openToast} = useToast();\n    const {campaignId} = useParams();\n\n    const {parseId} = useHelpers();\n    const parsedCampaignId = parseId(campaignId);\n\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        getResponseFlattenerList(parsedCampaignId).then(res => {\n            setData(res);\n        });\n    }, [parsedCampaignId])\n\n    const handleDownload = (stage: number, flattener: number) => {\n        downloadFlattenedResponses(stage, flattener)\n            .catch(error => openToast(error.message));\n    }\n\n    const handleOpen = (id: number) => {\n        navigate(`${id}`);\n    }\n\n    const handleCreate = () => {\n        navigate('new')\n    }\n\n    return (\n        <Box px={3} py={1} width={\"100%\"}>\n            <Button variant={\"contained\"} onClick={handleCreate}>\n                \n            </Button>\n            <Grid container py={2} spacing={2}>\n                {data.map((item: { task_stage: number, id: number }, index) =>\n                    <Grid item xs={12} key={index}>\n                        <ResponseFlattenerCard id={item.id} stage={item.task_stage} onDownloadClick={handleDownload}\n                                               onSettingsClick={handleOpen}/>\n                    </Grid>\n                )}\n            </Grid>\n        </Box>\n    );\n};\n\nexport default FlattenerList","import React, {useState} from 'react';\nimport useAxios from \"../../services/api/useAxios\";\nimport Form from \"../../components/form/Form\";\nimport {Box} from \"@mui/material\";\nimport {useToast} from \"../../context/toast/hooks/useToast\";\nimport {useNavigate} from \"react-router-dom\";\n\n\nconst CreateFlattener = () => {\n    const {createResponseFlattener} = useAxios();\n    const {openToast} = useToast();\n    const navigate = useNavigate();\n\n    const [data, setData] = useState({});\n\n    const schema = {\n        \"title\": \"Response Flattener\",\n        \"type\": \"object\",\n        \"required\": [\n            \"task_stage\"\n        ],\n        \"properties\": {\n            \"task_stage\": {\n                \"type\": \"integer\",\n                \"title\": \"Task stage\"\n            },\n            \"copy_first_level\": {\n                \"type\": \"boolean\",\n                \"title\": \"Copy first level\"\n            },\n            \"flatten_all\": {\n                \"type\": \"boolean\",\n                \"title\": \"Flatten all\"\n            },\n            \"copy_system_fields\": {\n                \"type\": \"boolean\",\n                \"title\": \"Copy system fields\"\n            },\n            \"exclude_list\": {\n                \"type\": \"string\",\n                \"title\": \"Exclude list\"\n            },\n            \"columns\": {\n                \"type\": \"string\",\n                \"title\": \"Columns\"\n            }\n        }\n    }\n\n    const ui = {\n        \"exclude_list\": {\n            \"ui:widget\": \"textarea\"\n        },\n        \"columns\": {\n            \"ui:widget\": \"textarea\"\n        }\n    }\n\n    const handleChange = (formData: any) => {\n        setData(formData)\n    }\n\n    const handleSubmit = () => {\n        createResponseFlattener(data)\n            .then(() => openToast(\"Saved\", \"success\"))\n            .then(() => navigate(-1));\n    }\n\n    return (\n        <Box p={2}>\n            <Form schema={schema} uiSchema={ui} formData={data} onChange={handleChange} onSubmit={handleSubmit}/>\n        </Box>\n    );\n};\n\nexport default CreateFlattener","import React from 'react';\nimport {HashRouter as Router, Route, Routes} from \"react-router-dom\";\nimport AuthProvider from \"./context/authentication/AuthProvider\";\nimport RequireAuth from \"./pages/login/RequireAuth\";\nimport {ROUTES} from \"./utils/constants/Paths\";\nimport Campaigns from \"./pages/campaigns/Campaigns\";\nimport Login from \"./pages/login/Login\";\nimport Layout from \"./components/layout/Layout\";\nimport Chains from \"./pages/chains/Chains\";\nimport Graph from \"./pages/graph/Graph\";\nimport StageBuilder from \"./pages/form-builders/stage-builder/StageBuilder\";\nimport LogicBuilder from \"./pages/form-builders/logic-builder/LogicBuilder\";\nimport CreateChain from \"./pages/chains/create-chain/CreateChain\";\nimport ToastProvider from \"./context/toast/ToastProvider\";\nimport ResponseFlattener from \"./pages/response-flattener/ResponseFlattener\";\nimport FlattenerList from \"./pages/response-flattener/FlattenerList\";\nimport CreateFlattener from \"./pages/response-flattener/CreateFlattener\";\n\n\nconst App = () => (\n    <AuthProvider>\n        <ToastProvider>\n            <Router>\n                <Routes>\n                    <Route path=\"/\" element={<RequireAuth><Layout/></RequireAuth>}>\n                        <Route path={\"campaign\"}>\n                            <Route path=\":campaignId\">\n                                <Route path=\"flattener\">\n                                    <Route path=\"new\" element={<CreateFlattener/>}/>\n                                    <Route path=\":id\" element={<ResponseFlattener/>}/>\n                                    <Route index element={<FlattenerList/>}/>\n                                </Route>\n                                <Route path=\"chain\">\n                                    <Route path=\":chainId\">\n                                        <Route path={\"createstage/:stageId\"} element={<StageBuilder/>}/>\n                                        <Route path={\"createlogic/:stageId\"} element={<LogicBuilder/>}/>\n                                        <Route index element={<Graph/>}/>\n                                    </Route>\n                                    <Route path=\"new\" element={<CreateChain/>}/>\n                                    <Route index element={<Chains/>}/>\n                                </Route>\n                            </Route>\n                            <Route index element={<Campaigns/>}/>\n                        </Route>\n                        <Route index element={<Campaigns/>}/>\n                    </Route>\n                    <Route path={ROUTES.login.path} element={<Login/>}/>\n                </Routes>\n            </Router>\n        </ToastProvider>\n    </AuthProvider>\n);\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}